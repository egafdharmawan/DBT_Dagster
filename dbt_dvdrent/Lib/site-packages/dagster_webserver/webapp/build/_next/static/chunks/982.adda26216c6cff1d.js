"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[982],{28888:function(e,n,t){t.d(n,{T:function(){return o}});var r=t(73235);function _templateObject(){var e=(0,r._)(["\n  height: 100%;\n  overflow-y: auto;\n  padding-bottom: 64px;\n  width: 100%;\n"]);return _templateObject=function(){return e},e}var o=t(35505).ZP.div.withConfig({componentId:"sc-2cf5acf-0"})(_templateObject())},17131:function(e,n,t){t.d(n,{m:function(){return PageHeader}});var r=t(73235),o=t(52322);t(2784);var i=t(35505),s=t(25195),a=t(22139);function _templateObject(){var e=(0,r._)(["\n  width: 100%;\n\n  /**\n   * Blueprint breadcrumbs annoyingly have a built-in height.\n   */\n  .bp4-breadcrumbs {\n    height: auto;\n  }\n"]);return _templateObject=function(){return e},e}var PageHeader=function(e){var n=e.title,t=e.tags,r=e.right,i=e.tabs;return(0,o.jsxs)(u,{background:(0,s.gJ)(),padding:{top:16,left:24,right:12},border:"bottom",children:[(0,o.jsxs)(a.x,{flex:{direction:"row",justifyContent:"space-between"},padding:{bottom:16},children:[(0,o.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:12,wrap:"wrap"},children:[n,t]}),r]}),i]})},u=(0,i.ZP)(a.x).withConfig({componentId:"sc-c36fe779-0"})(_templateObject())},18774:function(e,n,t){t.d(n,{$H:function(){return buildAssetGroupSelector},Lg:function(){return AssetGroupSuggest},eB:function(){return useAssetGroupSelectorsForAssets}});var r=t(52322),o=t(58931),i=t(34e3),s=t(44678),a=t(22139),u=t(82585),l=t(18149),c=t.n(l),d=t(84636),p=t.n(d),f=t(2784),g=t(68912),h=t(37160);function useAssetGroupSelectorsForAssets(e){return f.useMemo(function(){return p()((e||[]).map(buildAssetGroupSelector).filter(function(e){return!!e}),function(e){return JSON.stringify(e)}).sort(function(e,n){return e.groupName.localeCompare(n.groupName)})},[e])}var m={groupName:"-",repositoryLocationName:"-",repositoryName:"-"},AssetGroupSuggest=function(e){var n=e.assetGroups,t=e.value,l=e.onChange,repoKey=function(e){return"".concat(e.repositoryName,"@").concat(e.repositoryLocationName)},d=n[0]?repoKey(n[0]):"",p=!n.every(function(e){return d===repoKey(e)});return(0,r.jsx)(o.U5,{selectedItem:t.length?m:null,items:n,menuWidth:300,inputProps:{style:{width:200},placeholder:"Filter asset groupsâ€¦",rightElement:t.length?(0,r.jsx)(g.C,{onClick:function(){return l([])},style:{marginTop:5,marginRight:4},children:(0,r.jsx)(i.JO,{name:"cancel"})}):void 0},inputValueRenderer:function(){return 1===t.length?t[0].groupName:t.length>1?"".concat(t.length," groups"):""},itemPredicate:function(e,n){return 0===e.length||n.groupName.toLowerCase().includes(e.toLowerCase())},itemsEqual:c(),itemRenderer:function(e,n){return(0,r.jsx)(s.sN,{active:n.modifiers.active,onClick:n.handleClick,text:(0,r.jsxs)(a.x,{flex:{direction:"row",gap:6,alignItems:"center"},margin:{left:4},style:{maxWidth:"500px"},children:[(0,r.jsx)(u.X,{checked:t.some(function(n){return c()(n,e)}),size:"small",readOnly:!0}),(0,r.jsx)(a.x,{flex:{direction:"row",alignItems:"center",grow:1,shrink:1},style:{overflow:"hidden"},children:(0,r.jsxs)("div",{style:{overflow:"hidden"},children:[e.groupName,p?(0,r.jsx)("span",{style:{opacity:.5,paddingLeft:4},children:(0,h.At)(e.repositoryName,e.repositoryLocationName)}):void 0]})})]})},JSON.stringify(e))},noResults:(0,r.jsx)(s.sN,{disabled:!0,text:"No asset groups"}),closeOnSelect:!1,resetOnQuery:!1,onItemSelect:function(e){var n=t.filter(function(n){return!c()(e,n)});n.length===t.length&&n.push(e),l(n)}})};function buildAssetGroupSelector(e){return e.definition&&e.definition.groupName?{groupName:e.definition.groupName,repositoryName:e.definition.repository.name,repositoryLocationName:e.definition.repository.location.name}:null}},30982:function(e,n,t){t.r(n),t.d(n,{AssetsGroupsGlobalGraphRoot:function(){return AssetsGroupsGlobalGraphRoot}});var r=t(58467),o=t(52322),i=t(28888),s=t(17131),a=t(81308),u=t(18149),l=t.n(u),c=t(2784),d=t(7267),p=t(47888),f=t(28252),g=t(71277),h=t(83568),m=t(39852),x=t(51969),y=t(18774),b=t(74711),v=t(72254),AssetsGroupsGlobalGraphRoot=function(){var e=(0,d.UO)()[0],n=c.useContext(x.C5).visibleRepos,t=(0,d.k6)(),u=(0,r._)((0,g.q)({encode:function(e){var n=e.groups,t=e.computeKindTags;return{groups:n.length?JSON.stringify(n):void 0,computeKindTags:t.length?JSON.stringify(t):void 0}},decode:function(e){return{groups:e.groups?JSON.parse(e.groups):[],computeKindTags:e.computeKindTags?JSON.parse(e.computeKindTags):[]}}}),2),j=u[0],N=u[1];(0,f.j)("Global Asset Lineage");var G=(0,h.t)("GlobalAssetGraph"),C=c.useCallback(function(e,n){t[n]({pathname:(0,v.Cd)(e),search:t.location.search})},[t]),O=c.useCallback(function(e){t.push((0,b.p)(e.assetKey,{view:"definition"}))},[t]),w=c.useMemo(function(){return{hideEdgesToNodesOutsideQuery:!1,hideNodesMatching:function(e){var t;if(!n.some(function(n){return n.repositoryLocation.name===e.repository.location.name&&n.repository.name===e.repository.name}))return!0;if(null===(t=j.groups)||void 0===t?void 0:t.length){var r=(0,y.$H)({definition:e});if(!j.groups.some(function(e){return l()(e,r)}))return!0}return!1}}},[j.groups,n]);return(0,o.jsxs)(i.T,{style:{display:"flex",flexDirection:"column",paddingBottom:0},children:[(0,o.jsx)(s.m,{title:(0,o.jsx)(a.X6,{children:"Global Asset Lineage"}),right:(0,o.jsx)(m.i,{label:"Reload definitions"})}),(0,o.jsx)(p.OK,{fetchOptions:w,filters:j,setFilters:N,options:{preferAssetRendering:!0,explodeComposites:!0},explorerPath:(0,v.Lu)(e),onChangeExplorerPath:C,onNavigateToSourceAssetNode:O,isGlobalGraph:!0,trace:G})]})};n.default=AssetsGroupsGlobalGraphRoot},39852:function(e,n,t){t.d(n,{i:function(){return ReloadAllButton}});var r=t(58467),o=t(52322),i=t(43180),s=t(9001),a=t(34e3),u=t(10952),l=t(2784),c=t(54949),d=t(56266),p=t(40092),f=t(70958),ReloadAllButton=function(e){var n=e.label,t=void 0===n?"Reload all":n,g=(0,c.WB)(),h=g.permissions.canReloadWorkspace,m=g.disabledReasons,x=(0,p.Dc)({scope:"workspace",reloadFn:p.rL}),y=x.reloading,b=x.tryReload,v=x.error,j=x.errorLocationId,N=(0,r._)(l.useState(!!v),2),G=N[0],C=N[1];return(l.useEffect(function(){return C(!!v)},[v]),h)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.zx,{outlined:!0,onClick:b,icon:(0,o.jsx)(a.JO,{name:"refresh"}),loading:y,children:t}),j?(0,o.jsx)(f.V,{error:v,location:j,reloading:y,onTryReload:b,onDismiss:function(){return C(!1)},isOpen:G}):(0,o.jsxs)(u.Vq,{icon:"error",title:"Reload error",canEscapeKeyClose:!1,canOutsideClickClose:!1,style:{width:"90%"},isOpen:G,children:[(0,o.jsx)(u.a7,{children:v&&(0,o.jsx)(d.T9,{error:v})}),(0,o.jsx)(u.cN,{children:(0,o.jsx)(s.zx,{onClick:function(){return C(!1)},children:"Dismiss"})})]})]}):(0,o.jsx)(i.u,{content:m.canReloadWorkspace,children:(0,o.jsx)(s.zx,{outlined:!0,icon:(0,o.jsx)(a.JO,{name:"refresh"}),disabled:!0,children:t})})}}}]);
//# sourceMappingURL=982.adda26216c6cff1d.js.map