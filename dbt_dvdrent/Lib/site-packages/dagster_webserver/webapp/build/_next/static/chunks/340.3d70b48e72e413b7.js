"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[340],{23340:function(n,e,t){t.r(e),t.d(e,{LaunchpadStoredSessionsContainer:function(){return LaunchpadStoredSessionsContainer},default:function(){return C}});var r=t(58467),o=t(52322),a=t(2784),i=t(78567),c=t(20775),l=t(44314),u=t(85653),s=t(81862),p=t(73235),d=t(82550),f=t(22970),b=t(34e3),h=t(25195),m=t(22139),g=t(12084),x=t(35505),v=t(75168);function _templateObject(){var n=(0,p._)(["\n  display: flex;\n  flex-direction: row;\n  font-size: 13px;\n  gap: 8px;\n  z-index: 1;\n  flex-direction: row;\n  padding-left: 12px;\n  overflow-x: auto;\n\n  ::-webkit-scrollbar {\n    display: none; /* Safari and Chrome */\n  }\n"]);return _templateObject=function(){return n},n}function _templateObject1(){var n=(0,p._)(["\n          font-weight: 600;\n          background-color: ",";\n          color: ",";\n          box-shadow: "," 0 -2px 0 inset;\n        "]);return _templateObject1=function(){return n},n}function _templateObject2(){var n=(0,p._)(["\n          font-weight: normal;\n          background-color: ",";\n          color: ",";\n          box-shadow: "," 0 -1px 0 inset;\n\n          &:hover {\n            background-color: ",";\n            box-shadow: "," 0 -1px 0 inset;\n            color: ",";\n          }\n        "]);return _templateObject2=function(){return n},n}function _templateObject3(){var n=(0,p._)(["\n  align-items: center;\n  user-select: none;\n  padding: 8px 12px;\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n  white-space: nowrap;\n\n  ","\n\n  &:last-child {\n    padding-right: 12px;\n  }\n\n  input {\n    background-color: transparent;\n    font-size: 13px;\n    border: 0;\n    outline: none;\n    padding: 0;\n  }\n\n  cursor: ",";\n"]);return _templateObject3=function(){return n},n}function _templateObject4(){var n=(0,p._)(["\n  background-color: transparent;\n  border: 0;\n  cursor: pointer;\n  padding: 0;\n\n  "," {\n    transition: background-color 100ms;\n  }\n\n  &:hover "," {\n    background-color: ",";\n  }\n"]);return _templateObject4=function(){return n},n}var LaunchpadTab=function(n){var e=n.canRemove,t=n.title,i=n.onChange,c=n.onClick,l=n.onRemove,u=n.active,s=a.useRef(null),p=(0,r._)(a.useState(!1),2),d=p[0],f=p[1],m=(0,r._)(a.useState(t),2),g=m[0],x=m[1],v=a.useCallback(function(){i&&f(!0)},[i]),j=a.useCallback(function(n){n.stopPropagation(),l&&l()},[l]),C=a.useCallback(function(){f(!1),i&&i(g)},[i,g]),w=a.useCallback(function(n){return x(n.target.value)},[]);return a.useEffect(function(){var n=s.current;n&&d&&(n.focus(),n.select())},[d]),(0,o.jsxs)(_,{$active:u||!1,onDoubleClick:v,onClick:c,children:[d?(0,o.jsx)("input",{ref:s,type:"text",onKeyDown:function(n){return"Enter"===n.key&&n.currentTarget.blur()},onChange:w,onBlur:C,value:g,placeholder:"Type a tab nameâ€¦"}):t,e&&!d&&l?(0,o.jsx)(k,{onClick:j,children:(0,o.jsx)(b.JO,{name:"close",color:(0,h.Bj)()})}):null]})},LaunchpadTabs=function(n){var e,t,r=n.data,a=n.onCreate,c=n.onSave,l=r.sessions,u=Object.keys(l),p=u.length,x=(0,v.p)(),onApply=function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];c(n.apply(void 0,[r].concat((0,d._)(t))))},_=(e=(0,s._)(function(n){return(0,f.Jh)(this,function(e){switch(e.label){case 0:if(!(p>1))return[3,2];return[4,x({title:"Remove tab?",description:"The configuration for ".concat(n&&l[n]?'"'.concat(l[n].name,'"'):"this tab"," will be discarded.")})];case 1:e.sent(),onApply(i.Jy,n),e.label=2;case 2:return[2]}})}),function(n){return e.apply(this,arguments)}),k=(t=(0,s._)(function(){return(0,f.Jh)(this,function(n){switch(n.label){case 0:return[4,x({title:"Remove all tabs?",description:"All configuration tabs will be discarded."})];case 1:return n.sent(),c(function(n){var e=n;return u.forEach(function(n){e=(0,i.Jy)(e,n)}),e}),[2]}})}),function(){return t.apply(this,arguments)});return(0,o.jsx)(m.x,{border:"bottom",padding:{top:12},children:(0,o.jsxs)(j,{children:[u.map(function(n){return(0,o.jsx)(LaunchpadTab,{canRemove:p>1,active:n===r.current,title:l[n].name||"Unnamed",onClick:function(){return onApply(i.XH,n)},onChange:function(e){return onApply(i.sU,n,{name:e})},onRemove:function(){return _(n)}},n)}),(0,o.jsx)(LaunchpadTab,{title:"+ Add...",onClick:a}),u.length>3?(0,o.jsx)(m.x,{background:(0,h.v8)(),padding:{top:8,left:8,right:12},border:"bottom",style:{position:"sticky",right:0},children:(0,o.jsx)(g.Z,{color:(0,h.Yn)(),onClick:k,children:(0,o.jsxs)(m.x,{flex:{direction:"row",gap:4,alignItems:"center"},style:{whiteSpace:"nowrap"},children:[(0,o.jsx)(b.JO,{name:"delete",color:(0,h.Yn)()}),(0,o.jsx)("div",{children:"Remove all"})]})})}):null]})})},j=x.ZP.div.withConfig({componentId:"sc-c64f2021-0"})(_templateObject()),_=x.ZP.div.withConfig({componentId:"sc-c64f2021-1"})(_templateObject3(),function(n){return n.$active?(0,x.iv)(_templateObject1(),(0,h.fk)(),(0,h.Bj)(),(0,h.Bj)()):(0,x.iv)(_templateObject2(),(0,h.gJ)(),(0,h.Aw)(),(0,h.md)(),(0,h.gJ)(),(0,h.md)(),(0,h.$)())},function(n){return n.$active?"inherit":"pointer"}),k=x.ZP.button.withConfig({componentId:"sc-c64f2021-2"})(_templateObject4(),b.a1,b.a1,(0,h.by)()),LaunchpadStoredSessionsContainer=function(n){var e=n.launchpadType,t=n.pipeline,a=n.partitionSets,s=n.repoAddress,p=n.rootDefaultYaml,d=(0,c.gV)().flagDisableAutoLoadDefaults,f=(0,i.Bv)(t,a,p,!d),b=(0,r._)((0,i.aC)(s,t.name,f),2),h=b[0],m=b[1],g=h.sessions[h.current],x=(0,l.F)(g,function(n){m(function(e){return(0,i.sU)(e,e.current,n)})});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(LaunchpadTabs,{data:h,onCreate:function(){m(function(n){return(0,i.f0)(n,f)})},onSave:m}),(0,o.jsx)(u.Z,{launchpadType:e,session:g,onSave:x,pipeline:t,partitionSets:a,repoAddress:s,rootDefaultYaml:p})]})},C=LaunchpadStoredSessionsContainer}}]);
//# sourceMappingURL=340.3d70b48e72e413b7.js.map