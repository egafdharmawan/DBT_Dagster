{"version":3,"file":"static/chunks/765.2e64504788368424.js","mappings":"oYAgBO,SAASA,gCAAgCC,CAA2B,EACzE,OAAOC,EAAAA,OAAa,CAClB,kBACEC,IACE,CAACF,GAAU,EAAE,EAAEG,GAAG,CAACC,yBAAyBC,MAAM,CAAC,SAACC,CAAAA,QAAM,CAAC,CAACA,IAC5D,SAACA,CAAAA,SAAMC,KAAKC,SAAS,CAACF,KACtBG,IAAI,CAAC,SAACH,CAAAA,CAAGI,CAAAA,SAAMJ,EAAEK,SAAS,CAACC,aAAa,CAACF,EAAEC,SAAS,KACxD,CAACX,EAAO,CAEZ,CAMA,IAAMa,EAAyC,CAC7CF,UAAW,IACXG,uBAAwB,IACxBC,eAAgB,GAClB,EAEaC,kBAAoB,SAAAC,CAAA,MAC/BC,EAAAA,EAAAA,WAAAA,CACAC,EAAAA,EAAAA,KAAAA,CACAC,EAAAA,EAAAA,QAAAA,CAMMC,QAAU,SAACC,CAAAA,QAA0B,GAAuBA,MAAAA,CAApBA,EAAEP,cAAc,CAAC,KAA4BQ,MAAA,CAAzBD,EAAER,sBAAsB,GACpFU,EAAWN,CAAW,CAAC,EAAE,CAAGG,QAAQH,CAAW,CAAC,EAAE,EAAI,GACtDO,EAAoB,CAACP,EAAYQ,KAAK,CAAC,SAACJ,CAAAA,SAAME,IAAaH,QAAQC,KAEzE,MACE,GAAAK,EAAAC,GAAA,EAACC,EAAAA,EAAOA,CAAAA,CACNC,aAAcX,EAAMY,MAAM,CAAGlB,EAAqB,KAClDmB,MAAOd,EACPe,UAAW,IACXC,WAAY,CACVC,MAAO,CAACC,MAAO,GAAG,EAClBC,YAAa,uBACbC,aAAcnB,EAAMY,MAAM,CACxB,GAAAJ,EAAAC,GAAA,EAACW,EAAAA,CAAWA,CAAAA,CAACC,QAAS,kBAAMpB,EAAS,EAAE,GAAGe,MAAO,CAACM,UAAW,EAAGC,YAAa,CAAC,WAC5E,GAAAf,EAAAC,GAAA,EAACe,EAAAA,EAAIA,CAAAA,CAACC,KAAK,aAEXC,KAAAA,CACN,EACAC,mBAAoB,kBAClB3B,IAAAA,EAAMY,MAAM,CAASZ,CAAK,CAAC,EAAE,CAAER,SAAS,CAAGQ,EAAMY,MAAM,CAAG,EAAI,GAAgBR,MAAA,CAAbJ,EAAMY,MAAM,CAAC,WAAY,IAE5FgB,cAAe,SAACC,CAAAA,CAAOC,CAAAA,SACrBD,IAAAA,EAAMjB,MAAM,EAAUkB,EAAUtC,SAAS,CAACuC,WAAW,GAAGC,QAAQ,CAACH,EAAME,WAAW,KAEpFE,WAAYC,IACZC,aAAc,SAACC,CAAAA,CAAYC,CAAAA,QACzB,GAAA7B,EAAAC,GAAA,EAAC6B,EAAAA,EAAQA,CAAAA,CACPC,OAAQF,EAAMG,SAAS,CAACD,MAAM,CAC9BlB,QAASgB,EAAMI,WAAW,CAE1BC,KACE,GAAAlC,EAAAmC,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CACFC,KAAM,CAACC,UAAW,MAAOC,IAAK,EAAGC,WAAY,QAAQ,EACrDC,OAAQ,CAACC,KAAM,CAAC,EAChBlC,MAAO,CAACmC,SAAU,OAAO,YAEzB,GAAA3C,EAAAC,GAAA,EAAC2C,EAAAA,CAAQA,CAAAA,CAACC,QAASrD,EAAMsD,IAAI,CAAC,SAACnD,CAAAA,SAAM+B,IAAQ/B,EAAGiC,KAAcmB,KAAK,QAAQC,SAAQ,KACnF,GAAAhD,EAAAC,GAAA,EAACmC,EAAAA,CAAGA,CAAAA,CACFC,KAAM,CAACC,UAAW,MAAOE,WAAY,SAAUS,KAAM,EAAGC,OAAQ,CAAC,EACjE1C,MAAO,CAAC2C,SAAU,QAAQ,WAE1B,GAAAnD,EAAAmC,IAAA,EAACiB,MAAAA,CAAI5C,MAAO,CAAC2C,SAAU,QAAQ,YAC5BvB,EAAW5C,SAAS,CACpBc,EACC,GAAAE,EAAAC,GAAA,EAACoD,OAAAA,CAAK7C,MAAO,CAAC8C,QAAS,GAAKC,YAAa,CAAC,WACvCC,CAAAA,EAAAA,EAAAA,EAAAA,EACC5B,EAAWxC,cAAc,CACzBwC,EAAWzC,sBAAsB,IAGnC+B,KAAAA,WArBPtC,KAAKC,SAAS,CAAC+C,KA4BxB6B,UAAW,GAAAzD,EAAAC,GAAA,EAAC6B,EAAAA,EAAQA,CAAAA,CAAC4B,SAAU,GAAMxB,KAAK,oBAC1CyB,cAAe,GACfC,aAAc,GACdC,aAAc,SAACC,CAAAA,EACb,IAAMC,EAAYvE,EAAMd,MAAM,CAAC,SAACiB,CAAAA,QAAM,CAAC+B,IAAQoC,EAAMnE,IACjDoE,CAAAA,EAAU3D,MAAM,GAAKZ,EAAMY,MAAM,EACnC2D,EAAUC,IAAI,CAACF,GAEjBrE,EAASsE,EACX,GAGN,EAEO,SAAStF,wBAAwBE,CAAQ,EAC9C,OAAOA,EAAEsF,UAAU,EAAItF,EAAEsF,UAAU,CAACjF,SAAS,CACzC,CACEA,UAAWL,EAAEsF,UAAU,CAACjF,SAAS,CACjCI,eAAgBT,EAAEsF,UAAU,CAACC,UAAU,CAACjD,IAAI,CAC5C9B,uBAAwBR,EAAEsF,UAAU,CAACC,UAAU,CAACC,QAAQ,CAAClD,IAAI,EAE/D,IACN,8zBC3HO,IAAMmD,EAAkCC,CAAAA,EAAAA,EAAAA,EAAAA,EAAGA,mBAyBrCC,EAAuBD,CAAAA,EAAAA,EAAAA,EAAAA,EAAGA,mBAYnCD,sfCbSG,sBAAwB,SAAC1C,CAAAA,EACpC,IACE2C,EAQE3C,EARF2C,cAAAA,CACAC,EAOE5C,EAPF4C,UAAAA,CACAC,EAME7C,EANF6C,MAAAA,CACAC,EAKE9C,EALF8C,kBAAAA,CACAC,EAIE/C,EAJF+C,eAAAA,CACAC,EAGEhD,EAHFgD,MAAAA,CACAC,EAEEjD,EAFFiD,cAAAA,CAAAA,EAEEjD,EADFkD,IAAAA,CAAAA,EAAAA,KAAAA,IAAAA,EAAO,OAAAC,EAEHC,EAAY3G,EAAAA,MAAY,CAAwB,MAChD4G,EAAQC,OAAOC,IAAI,CAACV,GAAQtE,MAAM,CAElCiF,EAAiBC,CAAAA,EAAAA,EAAAA,EAAAA,EAAe,CACpCJ,MAAAA,EACAK,iBAAkB,kBAAMN,EAAUO,OAAO,EACzCC,aAAc,kBAAM,IACpBC,SAAU,CACZ,GAEMC,EAAcN,EAAeO,YAAY,GACzCvF,EAAQgF,EAAeQ,eAAe,GAEtCC,EAAcxH,EAAAA,OAAa,CAAC,WAChC,OAAO6G,OAAOY,OAAO,CAACrB,GAAQlG,GAAG,CAAC,SAAAc,CAAA,qBAAE0G,EAAAA,CAAAA,CAAAA,EAAAA,CAAY3H,EAAAA,CAAAA,CAAAA,EAAAA,CACxC4H,EAAO,GAAAC,EAAAC,CAAA,EAAI1B,GAAAA,MAAAA,CAAY,GAAAyB,EAAAC,CAAA,EAAGvH,KAAKwH,KAAK,CAACJ,KAE3C,OAAOK,EADiBjG,MAAM,CAAG,GAAK6F,EAAKK,IAAI,CAAC,OAASjI,CAAM,CAAC,EAAE,CAAEkI,GAAG,CAACN,IAAI,CAACK,IAAI,CAAC,KAE9E,CAACE,KAAM,SAAUP,KAAAA,EAAMD,WAAAA,EAAY3H,OAAAA,CAAM,EACzC,CAACmI,KAAM,QAASP,KAAAA,EAAMD,WAAAA,EAAYS,MAAOpI,CAAM,CAAC,EAAE,CACxD,EACF,EAAG,CAACoG,EAAYC,EAAO,EAEvB,MACE,GAAAgC,EAAAzG,GAAA,EAACmD,MAAAA,CAAI5C,MAAO,CAAC2C,SAAU,QAAQ,WAC7B,GAAAuD,EAAAvE,IAAA,EAACwE,EAAAA,EAASA,CAAAA,CAACC,IAAK3B,YACd,GAAAyB,EAAAzG,GAAA,EAAC4G,EAAAA,EAA6BA,CAAAA,CAACrC,eAAgBA,EAAgBO,KAAMA,IACrE,GAAA2B,EAAAzG,GAAA,EAAC6G,EAAAA,EAAKA,CAAAA,CAACC,aAAcpB,WAClBtF,EAAM7B,GAAG,CAAC,SAAAc,CAAA,MAAE0H,EAAAA,EAAAA,KAAAA,CAAOT,EAAAA,EAAAA,GAAAA,CAAKxD,EAAAA,EAAAA,IAAAA,CAAMkE,EAAAA,EAAAA,KAAAA,CACvBC,EAAWpB,CAAI,CAACkB,EAAM,CAgBtBG,EAAiBD,WAAAA,EAAIV,IAAI,CAAgBU,EAAI7I,MAAM,CAAG,CAAC6I,EAAIT,KAAK,CAAC,CAEvE,MACE,GAAAC,EAAAzG,GAAA,EAACmH,EAAAA,EAAmBA,CAAAA,CAElBrC,KAAMA,EACNyB,KApBF,WAAIU,EAAIV,IAAI,CACH,SAEFU,EAAIT,KAAK,CAACxC,UAAU,CAAG,QAAU,gBAkBtCgC,KAAMiB,EAAIjB,IAAI,CACdhC,WAAYiD,UAAAA,EAAIV,IAAI,CAAeU,EAAIT,KAAK,CAACxC,UAAU,CAAG,KAC1DoD,YAAaA,WAhBf,GAAIH,WAAAA,EAAIV,IAAI,EAAiB,CAACU,EAAIT,KAAK,CAACxC,UAAU,CAChD,OAAO,KAET,IAAMC,EAAagD,EAAIT,KAAK,CAACxC,UAAU,CAACC,UAAU,CAClD,MAAOoD,CAAAA,EAAAA,EAAAA,EAAAA,EAAiBpD,EAAWjD,IAAI,CAAEiD,EAAWC,QAAQ,CAAClD,IAAI,CACnE,IAYIsG,mBAAkB,GAClBzC,eAAgBA,EAChB0C,OAAQzE,EACRkE,MAAOA,EACPpE,QAAS8B,EAAmB8C,GAAG,CAACP,EAAIlB,UAAU,EAC9C0B,gBAAiB9C,EAAgBsC,EAAIlB,UAAU,EAC/CnB,OAAQ,kBAAMA,EAAOsC,EAAe3I,GAAG,CAAC,SAACG,CAAAA,SAAMA,EAAE4H,GAAG,MAZ/CA,EAeX,SAKV,maC5FO,IAAMoB,gBAAkB,SAAArI,CAAA,QAC7BsI,EAAAA,EAAAA,SAAAA,CACAC,EAAAA,EAAAA,MAAAA,CACAC,EAAAA,EAAAA,OAAAA,CACAC,EAAAA,EAAAA,UAAAA,CACAC,EAAAA,EAAAA,OAAAA,CAQOC,EAAeC,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EACpBC,EACA,CACEC,UAAW,CAACR,UAAWA,EAAUpJ,GAAG,CAAC6J,EAAAA,EAAeA,CAAC,EACrDC,eAAgBN,CAClB,KALoBE,CAAAA,EAAAA,CAQhBK,KAAO,GAAAC,EAAArC,CAAA,oEACX,GAAI,CAACyB,EAAUxH,MAAM,CACnB,UAEF,SAAM6H,mBAANQ,EAAAC,IAAA,GACAX,EAAWH,SACb,+CAEA,MACE,GAAAlB,EAAAvE,IAAA,EAACwG,EAAAA,EAAMA,CAAAA,CAACd,OAAQA,EAAQe,MAAM,wBAAwBd,QAASA,EAAStH,MAAO,CAACC,MAAO,GAAG,YACxF,GAAAiG,EAAAzG,GAAA,EAAC4I,EAAAA,EAAUA,CAAAA,UACT,GAAAnC,EAAAvE,IAAA,EAAC2G,EAAAA,CAAKA,CAAAA,CAACxG,UAAU,SAASyG,QAAS,aACjC,GAAArC,EAAAzG,GAAA,EAACmD,MAAAA,UAAI,qEACL,GAAAsD,EAAAzG,GAAA,EAAC+I,KAAAA,CAAGxI,MAAO,CAAC+C,YAAa,GAAId,OAAQ,CAAC,WACnCmF,EAAUpJ,GAAG,CAAC,SAACyK,CAAAA,EACd,IAAMhI,EAAOiI,CAAAA,EAAAA,EAAAA,EAAAA,EAAuBD,GACpC,MACE,GAAAvC,EAAAzG,GAAA,EAACkJ,KAAAA,CAAG3I,MAAO,CAAC4I,aAAc,CAAC,WACxBnI,GADgCA,EAIvC,KAEF,GAAAyF,EAAAzG,GAAA,EAACmD,MAAAA,UAAI,iLAIL,GAAAsD,EAAAzG,GAAA,EAACoJ,SAAAA,UAAO,uCAGZ,GAAA3C,EAAAvE,IAAA,EAACmH,EAAAA,EAAYA,CAAAA,CAACC,UAAS,aACrB,GAAA7C,EAAAzG,GAAA,EAACuJ,EAAAA,EAAMA,CAAAA,CAACC,OAAO,OAAO5I,QAASiH,WAAS,WAGxC,GAAApB,EAAAzG,GAAA,EAACuJ,EAAAA,EAAMA,CAAAA,CAACC,OAAO,SAAS5I,QAAS0H,WAAM,cAM/C,EAEMJ,EAAsB9D,CAAAA,EAAAA,EAAAA,EAAAA,EAAGA,kBAY3BqF,EAAAA,CAAqBA,WC7CZC,WAAa,SAAArK,CAAA,MACxBjB,EAAAA,EAAAA,MAAAA,CACAuL,EAAAA,EAAAA,mBAAAA,CACAC,EAAAA,EAAAA,YAAAA,CACApF,EAAAA,EAAAA,UAAAA,CACAqF,EAAAA,EAAAA,mBAAAA,CACA9B,EAAAA,EAAAA,OAAAA,CACA+B,EAAAA,EAAAA,UAAAA,CACAC,EAAAA,EAAAA,YAAAA,CACAjF,EAAAA,EAAAA,IAAAA,CAE4BzG,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,EAAAA,QAAc,MAAnC2L,EAAqB3L,CAAAA,CAAAA,EAAAA,CAAb4L,EAAa5L,CAAAA,CAAAA,EAAAA,CAEtB6L,EAAsBC,IAAQ/L,EAAQ,SAACM,CAAAA,SAAMC,KAAKC,SAAS,CAACiL,EAAoBnL,MAChF0L,EAAclF,OAAOC,IAAI,CAAC+E,GAAqBrL,IAAI,GAGvDwL,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAoBD,GAAAA,GADdE,EAAAA,CACND,CAAAA,EAAAA,CADMC,UAAAA,CAAAA,EACND,CAAAA,CAAAA,EAAAA,CADwC1F,EAAAA,EAAAA,eAAAA,CAAiB4F,EAAAA,EAAAA,WAAAA,CAGrDC,EAAyB,EAAE,QACjCJ,EAAYK,OAAO,CAAC,SAAC1E,CAAAA,EACfrB,EAAmB8C,GAAG,CAACzB,IACzByE,EAAczG,IAAI,CAAlByG,KAAAA,CAAAA,EAAmB,GAAAvE,EAAAC,CAAA,EAAIgE,CAAmB,CAACnE,EAAW,EAAI,EAAE,EAEhE,GAkFE,GAAAU,EAAAvE,IAAA,EAAAuE,EAAAiE,QAAA,YACE,GAAAjE,EAAAvE,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CAACC,KAAM,CAACC,UAAW,QAAQ,EAAG9B,MAAO,CAACgH,OAAQ,OAAQrE,SAAU,QAAQ,YAC1E,GAAAuD,EAAAvE,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CACFwI,WAAYC,CAAAA,EAAAA,EAAAA,EAAAA,IACZxI,KAAM,CAACG,WAAY,SAAUD,IAAK,EAAE,EACpCuI,QAAS,CAACC,SAAU,EAAGrI,KAAM,GAAIsI,MAAO,EAAE,EAC1CxK,MAAO,CAACyK,SAAU,SAAUC,IAAK,EAAGC,OAAQ,CAAC,YAE5CvB,EACD,GAAAlD,EAAAzG,GAAA,EAACmD,MAAAA,CAAI5C,MAAO,CAAC6B,KAAM,CAAC,IACpB,GAAAqE,EAAAzG,GAAA,EAACmL,EAAAA,EAAqBA,CAAAA,CAACvB,aAAcA,IACrC,GAAAnD,EAAAvE,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CAACC,KAAM,CAACG,WAAY,SAAUD,IAAK,CAAC,YACrCkI,EAAc3H,IAAI,CAAC,SAACuI,CAAAA,QAAM,CAACA,EAAEpH,UAAU,GACtC,GAAAyC,EAAAzG,GAAA,EAACqL,EAAAA,CAAOA,CAAAA,CAACC,QAAQ,iGACf,GAAA7E,EAAAzG,GAAA,EAACuJ,EAAAA,EAAMA,CAAAA,CACLC,OAAO,UACP+B,cAAaC,CAAAA,EAAAA,EAAAA,CAAAA,EAAO,sBACpBC,KAAM,GAAAhF,EAAAzG,GAAA,EAACe,EAAAA,EAAIA,CAAAA,CAACC,KAAK,oBACjByC,SAAQ,YAEP+G,EAAcrK,MAAM,CAAG,EACpB,gBAAsDR,MAAA,CAAtC6K,EAAcrK,MAAM,CAACuL,cAAc,GAAG,KACtD,kBAIR,GAAAjF,EAAAzG,GAAA,EAAC2L,EAAAA,EAA0BA,CAAAA,CACzBC,MAAO,CAACC,SAAUrB,EAAcjM,GAAG,CAAC,SAACG,CAAAA,QAAO,GAAAoN,EAAA5F,CAAA,KAAA6F,EAAA7F,CAAA,KAAIxH,EAAEsF,UAAU,GAAGgF,SAAUtK,EAAE4H,GAAG,IAAG,IAGrF,GAAAG,EAAAzG,GAAA,EAACgM,EAAAA,CACCH,SAAUrB,EACVyB,eAAgB,kBAAM1B,EAAY,aAIvCe,WAnHL,GAAI,CAAClN,EAAO+B,MAAM,CAAE,KAsCK4J,EA1BEA,SAXzB,EAEI,GAAAtD,EAAAzG,GAAA,EAACmC,EAAAA,CAAGA,CAAAA,CAAC0I,QAAS,CAACI,IAAK,EAAE,WACpB,GAAAxE,EAAAzG,GAAA,EAACkM,EAAAA,CAAaA,CAAAA,CACZT,KAAK,SACL9C,MAAM,qBACNwD,YACEpC,EAAa5J,MAAM,CACjB,GAAAsG,EAAAvE,IAAA,EAACiB,MAAAA,WAAI,sBACgB,GAAAsD,EAAAzG,GAAA,EAACoJ,SAAAA,UAAQU,IAAoB,iBAAe,IAC9DC,IAAAA,EAAa5J,MAAM,CAClB,GAAAsG,EAAAzG,GAAA,EAACoJ,SAAAA,UAAuB,OAAfW,CAAAA,EAAAA,CAAY,CAAC,EAAE,GAAfA,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAiBhL,SAAS,GAEnC,+BAIJ,GAAA0H,EAAAvE,IAAA,EAACiB,MAAAA,WAAI,sBACgB,GAAAsD,EAAAzG,GAAA,EAACoJ,SAAAA,UAAQU,IAAoB,qBAU5D,GAAArD,EAAAzG,GAAA,EAACmC,EAAAA,CAAGA,CAAAA,CAAC0I,QAAS,CAACI,IAAK,EAAE,WACpB,GAAAxE,EAAAzG,GAAA,EAACkM,EAAAA,CAAaA,CAAAA,CACZT,KAAK,SACL9C,MAAM,YACNwD,YACEpC,EAAa5J,MAAM,CACjB,GAAAsG,EAAAvE,IAAA,EAACiB,MAAAA,WAAI,0BACqB,IACvB4G,IAAAA,EAAa5J,MAAM,CAClB,GAAAsG,EAAAzG,GAAA,EAACoJ,SAAAA,UAAuB,OAAfW,CAAAA,EAAAA,CAAY,CAAC,EAAE,GAAfA,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAiBhL,SAAS,GAEnC,+BAIJ,0BAMZ,CAEA,MACE,GAAA0H,EAAAzG,GAAA,EAACsE,sBAAqBA,CACpBC,eACE,GAAAkC,EAAAzG,GAAA,EAAC2C,EAAAA,CAAQA,CAAAA,CACPyJ,cACE1H,EAAmB5B,IAAI,CAAG,GAAK4B,EAAmB5B,IAAI,GAAKsH,EAAYjK,MAAM,CAE/EyC,QAAS8B,EAAmB5B,IAAI,CAAG,GAAK4B,EAAmB5B,IAAI,GAAKsH,EAAYjK,MAAM,CACtFX,SAAU,SAAC6M,CAAAA,EACLA,EAAEC,MAAM,YAAYC,kBACtBhC,EAAY7F,EAAmB5B,IAAI,GAAKsH,EAAYjK,MAAM,CAE9D,IAGJqE,WAAYA,EACZC,OAAQyF,EACRxF,mBAAoBA,EACpBC,gBAAiBA,EACjBE,eAAc,GACdC,KAAMA,EACNF,OAAQ,SAAC+C,CAAAA,SAA+BsC,EAAUtC,KAGxD,OAyCI,GAAAlB,EAAAzG,GAAA,EAAC0H,gBAAeA,CACdC,UAAWqC,GAAU,EAAE,CACvBpC,OAAQ,CAAC,CAACoC,EACVnC,QAAS,kBAAMoC,EAAUhJ,KAAAA,IACzB6G,WAAY,kBAAMmC,EAAUhJ,KAAAA,IAC5B8G,QAASA,MAIjB,EAQMiE,EAAsB3N,EAAAA,IAAU,CAAC,SAACuD,CAAAA,EACtC,IAAOiK,EAAqCjK,EAArCiK,QAAAA,CAAUI,EAA2BrK,EAA3BqK,cAAAA,CAAgBlE,EAAWnG,EAAXmG,OAAAA,CACmB1J,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,EAAAA,QAAc,CAAU,OAArEmO,EAA6CnO,CAAAA,CAAAA,EAAAA,CAAzBoO,EAAyBpO,CAAAA,CAAAA,EAAAA,CAKpD,GAAI,CAFAqO,CAAAA,EAAAA,EAAAA,EAAAA,IADFC,WAAAA,CAAcC,aAAAA,CAId,OAAO,KAGT,IAAMnJ,EAAWoI,IAAAA,EAAS1L,MAAM,CAEhC,MACE,GAAAsG,EAAAvE,IAAA,EAAAuE,EAAAiE,QAAA,YACE,GAAAjE,EAAAzG,GAAA,EAAC6M,EAAAA,CAAOA,CAAAA,CACN7B,SAAS,eACTM,QACE,GAAA7E,EAAAzG,GAAA,EAAC8M,EAAAA,EAAIA,CAAAA,UACH,GAAArG,EAAAzG,GAAA,EAAC6B,EAAAA,EAAQA,CAAAA,CACPI,KAAK,wBACLrB,QAAS,kBAAM6L,EAAsB,KACrChB,KACE,GAAAhF,EAAAzG,GAAA,EAACe,EAAAA,EAAIA,CAAAA,CAACC,KAAK,SAAS+L,MAAOtJ,EAAWuJ,CAAAA,EAAAA,EAAAA,EAAAA,IAAsBC,CAAAA,EAAAA,EAAAA,EAAAA,MAE9DxJ,SAAUA,EACV+F,OAAO,sBAKb,GAAA/C,EAAAzG,GAAA,EAACuJ,EAAAA,EAAMA,CAAAA,CAACkC,KAAM,GAAAhF,EAAAzG,GAAA,EAACe,EAAAA,EAAIA,CAAAA,CAACC,KAAK,oBAE3B,GAAAyF,EAAAzG,GAAA,EAAC0H,gBAAeA,CACdC,UAAWkE,EAAStN,GAAG,CAAC,SAACiI,CAAAA,SAAUA,EAAMF,GAAG,GAC5CsB,OAAQ4E,EACR3E,QAAS,kBAAM4E,EAAsB,KACrC3E,WAAY,WACV2E,EAAsB,IACtBR,GACF,EACAlE,QAASA,MAIjB,cCvPamF,iBAAmB,SAAA7N,CAAA,MAAEmF,EAAAA,EAAAA,UAAAA,OAChC,GAAAiC,EAAAzG,GAAA,EAACkM,EAAAA,CAAaA,CAAAA,CACZT,KAAK,QACL9C,MAAM,SACNwD,YACE,GAAA1F,EAAAvE,IAAA,EAACiL,IAAAA,WACE3I,GAAcA,EAAWrE,MAAM,CAC3B,2EACA,2CAA0C,mDACC,GAAAsG,EAAAzG,GAAA,EAACoN,OAAAA,UAAK,yBAA2B,mDAC1C,IACvC,GAAA3G,EAAAzG,GAAA,EAACtB,IAAAA,CAAE2O,KAAK,6EAAoE,uCAEvE,IAAI,oDCVXC,uBAAyB,SAACC,CAAAA,QAC9BA,SAAAA,GAA0BA,cAAAA,EAA8BA,EAAc,swBC2EjE,IAAMC,mBAAqB,SAAAnO,CAAA,MA0K1BoO,EAKAC,EAIAC,EA7NAC,EAOAC,EAoCNrJ,EAAAA,EAAAA,UAAAA,CACAsJ,EAAAA,EAAAA,aAAAA,CACAC,EAAAA,EAAAA,aAAAA,CACAC,EAAAA,EAAAA,KAAAA,CAEwBC,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,ED9EjBC,CAAAA,EAAAA,EAAAA,CAAAA,EARc,sBAQqCZ,wBC8EtBW,GAA7BnJ,EAAiBmJ,CAAAA,CAAAA,EAAAA,CAAXE,EAAWF,CAAAA,CAAAA,EAAAA,CACIG,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAA2C,CAACC,SAAU,GAAG,MAA9EC,EAAqBF,CAAAA,CAAAA,EAAAA,CAAbG,EAAaH,CAAAA,CAAAA,EAAAA,CACYA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAA6C,CACnFC,SAAU,IACVG,OAAQ,SAACC,CAAAA,SAAQA,EAAGhK,MAAM,CAAG9F,KAAKwH,KAAK,CAACsI,EAAGhK,MAAM,EAAI,EAAE,EACvDiK,OAAQ,SAACjK,CAAAA,QAAY,CAACA,OAAQA,EAAOtE,MAAM,CAAGxB,KAAKC,SAAS,CAAC6F,GAAUxD,KAAAA,CAAS,EAClF,MAJO8I,EAAiCqE,CAAAA,CAAAA,EAAAA,CAAnBO,EAAmBP,CAAAA,CAAAA,EAAAA,CAMlCtE,EAAa,CAACwE,GAAU,IAC3BM,OAAO,CAAC,mBAAoB,KAC5BtN,WAAW,GACXuN,IAAI,GAEwBC,GA7DzBlB,EAAcmB,CAAAA,EAAAA,EAAAA,CAAAA,EAClBC,EACA,CACEC,KAAM,CAAC,CA0DiClB,EAzDxCmB,4BAA6B,EAC/B,GAEIrB,EAAakB,CAAAA,EAAAA,EAAAA,CAAAA,EACjBI,GACA,CACEF,KAAM,CAmDkClB,EAlDxC5F,UAAW,CAACiH,MAkD4BrB,CAlDR,EAChCmB,4BAA6B,EAC/B,GAGK7Q,EAAAA,OAAa,CAAC,WACnB,GA4C0C0P,EA5CvB,CACjB,IAQoBH,EARDC,EAAbwB,EAAAA,OAAaxB,CAAAA,EAAAA,EAAWyB,IAAI,GAAfzB,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAiBwB,UAAU,CAC9C,MAAO,CACLjO,MAAOyM,EACP0B,MAAOtO,KAAAA,EACP7C,OAAQiR,MAAAA,EAAAA,KAAAA,EAAAA,EAAY9Q,GAAG,CAACiR,+BAC1B,CACF,CAEA,IAAMC,EAAAA,OAAgB7B,CAAAA,EAAAA,EAAY0B,IAAI,GAAhB1B,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAAkB6B,aAAa,CACrD,MAAO,CACLrO,MAAOwM,EACP2B,MAAOE,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAeC,UAAU,IAAK,cAAgBD,EAAgBxO,KAAAA,EACrE7C,OAAQqR,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAeC,UAAU,IAAK,kBAAoBD,EAAcE,KAAK,CAAG1O,KAAAA,CAClF,CACF,EAAG,CAAC2M,EAAaC,EA6B2BE,EA7BD,GA6BpC3P,EAAwB0Q,EAAxB1Q,MAAAA,CAAQgD,EAAgB0N,EAAhB1N,KAAAA,CAAOmO,EAAST,EAATS,KAAAA,CAChBK,EAAoBzR,CAAAA,EAAAA,EAAAA,EAAAA,EAAgCC,GACpDyR,EAAcC,CAAAA,EAAAA,EAAAA,CAAAA,EAAehG,EAAY1L,GAAU,EAAE,EAErD2R,EAAW1R,EAAAA,OAAa,CAC5B,kBACEwR,EAAYpR,MAAM,CAChB,SAACC,CAAAA,QACC,CAACqL,EAAa5J,MAAM,EAAI4J,EAAalH,IAAI,CAAC,SAACnD,CAAAA,SAAM+B,IAAQjD,CAAAA,EAAAA,EAAAA,EAAAA,EAAwBE,GAAIgB,QAE3F,CAACmQ,EAAa9F,EAAa,EAI3BjF,EAAAA,SAAAA,EA+HK,CACLkL,UA/HmBD,EAgInBlG,oBAAqB,SAACrD,CAAAA,SAAiBA,EAAMF,GAAG,CAACN,IAAI,CACvD,GAOMyH,EAAoB,SAACjH,CAAAA,EACzB,OAAOA,EAAMF,GAAG,CAACN,IAAI,CAACiK,KAAK,CAACzL,EAAWrE,MAAM,CAAEqE,EAAWrE,MAAM,CAAG,EACrE,EAGMuN,EAAuBtP,EAAOK,MAAM,CAAC,SAAC+H,CAAAA,SAC1CA,EAAMF,GAAG,CAACN,IAAI,CAACK,IAAI,CAAC,KAAK6J,UAAU,CAAC1L,EAAW6B,IAAI,CAAC,QAGhDsH,EAAawC,MAAMC,IAAI,CAC3B,IAAIC,IAAI3C,EAAqBnP,GAAG,CAAC,SAACiI,CAAAA,SAAU7H,KAAKC,SAAS,CAAC6O,EAAkBjH,QAE5EjI,GAAG,CAAC,SAAC+R,CAAAA,SAAM3R,KAAKwH,KAAK,CAACmK,KACtBzR,IAAI,GAEA,CACLgL,oBAAqB4D,EACrBuC,UAAWO,wBACT7C,EACAC,EAAWpP,GAAG,CAAC,SAACiS,CAAAA,QAAO,GAAAvK,EAAAC,CAAA,EA1JS1B,GA0JLA,MAAAA,CAAY,GAAAyB,EAAAC,CAAA,EAAGsK,MAE9C,GA/JO3G,EACL/E,EADK+E,mBAAAA,CAAqBmG,EAC1BlL,EAD0BkL,SAAAA,CAKtBpG,EAAe6G,CAAAA,EAAAA,EAAAA,EAAAA,EAA0BrP,EAAOsP,EAAAA,EAAeA,EAE/DC,EAAS,CAAC,CAACvS,QAajB,CAZAC,EAAAA,SAAe,CAAC,WACVsS,GACF3C,CAAAA,MAAAA,GAAAA,EAAO4C,QAAQ,GAEnB,EAAG,CAACD,EAAQ3C,EAAM,EAElB3P,EAAAA,SAAe,CAAC,WACD,cAATyG,GAAwBN,EAAWrE,MAAM,EAC3CgO,EAAQ,YAEZ,EAAG,CAACrJ,EAAMqJ,EAAS3J,EAAW,EAE1B+K,GACK,GAAA9I,EAAAzG,GAAA,EAAC6Q,EAAAA,EAAeA,CAAAA,CAACtB,MAAOA,IAG5BnR,EAIAA,EAAO+B,MAAM,CAShB,GAAAsG,EAAAzG,GAAA,EAAC0J,WAAUA,CACT5E,KAAMA,EACN1G,OAAQ4R,EACRrG,oBACE,GAAAlD,EAAAvE,IAAA,EAAAuE,EAAAiE,QAAA,YACE,GAAAjE,EAAAzG,GAAA,EAAC8Q,EAAAA,CAAWA,CAAAA,CACVC,YAAa,IAAIV,IAAI,CAACvL,EAAK,EAC3BkM,QAAS,CACP,CAACC,GAAI,OAAQxF,KAAM,YAAayF,QAAS,WAAW,EACpD,CAACD,GAAI,YAAaxF,KAAM,SAAUyF,QAAS,aAAa,EACzD,CACDtQ,QAAS,SAACkE,CAAAA,EACRqJ,EAAQrJ,GACK,SAATA,GAAmBN,EAAWrE,MAAM,EACtC2N,EAAc,EAAE,CAEpB,IAEF,GAAArH,EAAAzG,GAAA,EAACmR,EAAAA,EAASA,CAAAA,CACR5R,MAAO+O,GAAU,GACjB/N,MAAO,CAACC,MAAO,OAAQ4Q,SAAU,IAAK1O,SAAU,GAAG,EACnDjC,YACE+D,EAAWrE,MAAM,CACb,wBAA6CR,MAAA,CAArB6E,EAAW6B,IAAI,CAAC,KAAK,KAC5C,qBAEP7G,SAAU,SAAC6M,CAAAA,SAA8BkC,EAAUlC,EAAEC,MAAM,CAAC/M,KAAK,KAElE,EAMG0B,KAAAA,EALF,GAAAwF,EAAAzG,GAAA,EAACZ,EAAAA,EAAiBA,CAAAA,CAChBE,YAAasQ,EACbrQ,MAAOwK,EACPvK,SAAUmP,OAKlB/E,aAAcA,EACdpF,WAAYA,GAAc,EAAE,CAC5BsF,WAAYA,EACZC,aAAcA,EACdF,oBAAqBA,EACrB9B,QAAS,SAAC7B,CAAAA,QAAM,CAAC,CAAC9E,MAAO4N,CAAyB,EAAE,IAjDpD,GAAAvI,EAAAzG,GAAA,EAACmC,EAAAA,CAAGA,CAAAA,CAAC0I,QAAS,CAACC,SAAU,EAAE,WACzB,GAAArE,EAAAzG,GAAA,EAACkN,iBAAgBA,CAAC1I,WAAYA,MAN3B,GAAAiC,EAAAzG,GAAA,EAACqR,EAAAA,CAAcA,CAAAA,CAACC,QAAQ,QAyDnC,EAEatC,EAA4B5K,CAAAA,EAAAA,EAAAA,EAAAA,EAAGA,oCAaxCC,EAAAA,CAAoBA,CACpBoF,EAAAA,CAAqBA,EAGZ0F,GAAkC/K,CAAAA,EAAAA,EAAAA,EAAAA,EAAGA,mBAgB9CD,EAAAA,CAA+BA,EAMnC,SAASqL,+BAA+BxL,CAA8C,EACpF,MAAO,CAAC0L,WAAY,QAASuB,GAAIjN,EAAWiN,EAAE,CAAE3K,IAAKtC,EAAWgF,QAAQ,CAAEhF,WAAAA,CAAU,CACtF,CAqCA,IAAMuM,wBAA0B,SAACnS,CAAAA,CAAiBmT,CAAAA,EAChD,OAAOnT,EAAOK,MAAM,CAAC,SAAC+H,CAAAA,SACpB+K,EAAM1O,IAAI,CAAC,SAACmD,CAAAA,SAASA,EAAKlG,KAAK,CAAC,SAAC0R,CAAAA,CAAMC,CAAAA,SAAMD,IAAShL,EAAMF,GAAG,CAACN,IAAI,CAACyL,EAAE,MAE3E,uUC/QO,IAAMC,8BAAgC,WAC3C,IAAMpC,EAASP,CAAAA,EAAAA,EAAAA,CAAAA,EAGb4C,GAHKrC,IAAAA,QAIP,EAGOA,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAMsC,QAAQ,CAACC,0BAA0B,EAAG,iBAAmB,iBAF7D,SAGX,EAEMF,EAAgCvN,CAAAA,EAAAA,EAAAA,EAAAA,EAAGA,wJChBnC0N,wBAA0B,SAACC,CAAAA,EAC/B,OAAO1T,EAAAA,OAAa,CAAC,WACnB,MAAO,CAAC0T,GAAe,IACpBnD,OAAO,CAAC,mBAAoB,KAC5BtN,WAAW,GACXuN,IAAI,EACT,EAAG,CAACkD,EAAY,CAClB,EAEajC,eAAiB,SAC5BiC,CAAAA,CACA3T,CAAAA,EAEA,IAAM4T,EAAkBF,wBAAwBC,GAChD,OAAO1T,EAAAA,OAAa,CAAC,kBAEnB,EAGOD,EAAOK,MAAM,CAAC,SAACC,CAAAA,QAAMuT,CAAAA,EAAAA,EAAAA,EAAAA,EAAiBvT,EAAE4H,GAAG,EAAEhF,WAAW,GAAGC,QAAQ,CAACyQ,KAFlE5T,CAGX,EAAG,CAACA,EAAQ4T,EAAgB,CAC9B,EAEaE,mBAAqB,SAChCH,CAAAA,CACA1C,CAAAA,EAEA,IAAM2C,EAAkBF,wBAAwBC,GAEhD,OAAO1T,EAAAA,OAAa,CAAC,kBAEnB,EAGOgR,EAAW5Q,MAAM,CAAC,SAACC,CAAAA,QACxBuT,CAAAA,EAAAA,EAAAA,EAAAA,EAAiBvT,EAAEsK,QAAQ,EAAE1H,WAAW,GAAGC,QAAQ,CAACyQ,KAH7C3C,CAKX,EAAG,CAACA,EAAY2C,EAAgB,CAClC,k6BClBO,IAAMG,eAAiB,SAAA9S,CAAA,MAC5B+H,EAAAA,EAAAA,WAAAA,CAAAA,EAAAA,EACAgL,QAAAA,CAAWC,EAAAhT,EACXiT,WAAAA,CAMMpO,EAAakD,EAAZlD,QAAAA,CACDqO,EAAaC,CAAAA,EAAAA,EAAAA,EAAAA,EAAyBpL,GAE5C,MACE,GAAAqL,EAAAvQ,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CAACC,KAAM,CAACsQ,QAAS,cAAerQ,UAAW,MAAOE,WAAY,QAAQ,EAAGoG,MAAO4J,YACjFH,KAZLA,IAAAA,GAAWO,GAYM,GAAAF,EAAAzS,GAAA,EAACe,EAAAA,EAAIA,CAAAA,CAACC,KAAK,SAAST,MAAO,CAACO,YAAa,CAAC,EAAGiM,MAAO6F,CAAAA,EAAAA,EAAAA,EAAAA,MACjE,GAAAH,EAAAzS,GAAA,EAAC6S,EAAAA,CAAeC,GAAIC,CAAAA,EAAAA,EAAAA,EAAAA,EAAyB3L,GAAc7G,MAAO,CAAC6B,KAAM,CAAC,WACxE,GAAAqQ,EAAAzS,GAAA,EAACgT,EAAAA,CAAcA,CAAAA,CAAC/Q,KAAMsQ,MAEvBD,KAfLA,IAAAA,GAAcD,EAgBR,GAAAI,EAAAzS,GAAA,EAACiT,EAAAA,CAA8BA,CAAAA,CAC7B/O,SAAUA,EACVgP,eAAgB,SAAA7T,CAAA,MAAE8T,EAAAA,EAAAA,YAAAA,CAAcC,EAAAA,EAAAA,SAAAA,CAAWC,EAAAA,EAAAA,SAAAA,CAAWC,EAAAA,EAAAA,mBAAAA,CAepD,MACE,GAAAb,EAAAzS,GAAA,EAACuT,EAAAA,CAAcjI,QAdf,EAIO+H,EACL,aAEA,GAAAZ,EAAAvQ,IAAA,EAAAuQ,EAAA/H,QAAA,YAAE,mBACgB,GAAA+H,EAAAzS,GAAA,EAACoJ,SAAAA,UAAQ+J,OAPpBK,EAAAA,CAAyBA,UAc/BH,EACC,GAAAZ,EAAAzS,GAAA,EAACyT,EAAAA,CAAOA,CAAAA,CAACnC,QAAQ,cAEjB,GAAAmB,EAAAzS,GAAA,EAAC0T,EAAAA,CAAajQ,SAAU,CAAC6P,EAAqB1S,QAASwS,WACrD,GAAAX,EAAAzS,GAAA,EAACe,EAAAA,EAAIA,CAAAA,CACHC,KAAK,UACL+L,MAAOuG,EAAsBV,CAAAA,EAAAA,EAAAA,EAAAA,IAAoBe,CAAAA,EAAAA,EAAAA,EAAAA,SAM7D,IAEA,OAGV,EAEad,EAAiBe,CAAAA,EAAAA,EAAAA,EAAAA,EAAOC,EAAAA,EAAIA,EAAAA,UAAAA,CAAAA,kDAInCN,EAAgBK,CAAAA,EAAAA,EAAAA,EAAAA,EAAOvI,EAAAA,CAAOA,EAAAA,UAAAA,CAAAA,mDAQ9BqI,EAAeE,EAAAA,EAAMA,CAACE,MAAM,CAAAC,UAAA,mDAgB5BC,EAAAA,EAAWA,CAKNA,EAAAA,EAAWA,CACTC,CAAAA,EAAAA,EAAAA,EAAAA,gQC7FAC,oBAAsB,SAAA7U,CAAA,MACjC+H,EAAAA,EAAAA,WAAAA,CAAAA,EAAAA,EACA+M,SAAAA,CAAAA,EAAAA,KAAAA,IAAAA,EAAY,EAAE,CAAAC,EAAAC,EAAAhV,EACdiV,OAAAA,CAAAA,EAAAA,KAAAA,IAAAA,EAAU,EAAE,CAAAD,EAAAE,EAAAlV,EACZmV,UAAAA,CAAAA,EAAAA,KAAAA,IAAAA,GAAaD,EAOWlW,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,EAAAA,QAAc,CAAC,OAAhCoW,EAAiBpW,CAAAA,CAAAA,EAAAA,CAAXqW,EAAWrW,CAAAA,CAAAA,EAAAA,CAElBsW,EAAgBR,EAAUhU,MAAM,CAChCyU,EAAcN,EAAQnU,MAAM,QAElC,EAAoB,GAAKyU,EAAc,GAAMD,GAAiBC,EAW1D,GAAA7U,EAAAmC,IAAA,EAAAnC,EAAA2K,QAAA,YACE,GAAA3K,EAAAC,GAAA,EAAC6U,EAAAA,CAAGA,CAAAA,CAACpJ,KAJIkJ,EAAgB,EAAI,WAAa,mBAKxC,GAAA5U,EAAAC,GAAA,EAAC8U,EAAAA,CAAUA,CAAAA,CAAClU,QAAS,kBAAM8T,EAAQ,KAAO3H,MAAOgI,CAAAA,EAAAA,EAAAA,EAAAA,aAXrDJ,GAAiBC,EACb,GAA+BjV,MAAA,CAA5BgV,EAAgBC,EAAY,sBAC/BD,EACA,GAAiBhV,MAAA,CAAdgV,EAAc,cACjB,GAAehV,MAAA,CAAZiV,EAAY,gBAWjB,GAAA7U,EAAAC,GAAA,EAACgV,EAAAA,CAAuBA,CAAAA,CACtBpN,OAAQ6M,EACR5M,QAAS,kBAAM6M,EAAQ,KACvBtN,YAAaA,EACb+M,UAAWA,EACXG,QAASA,EACTE,WAAYA,OAMhBG,EAEA,GAAA5U,EAAAC,GAAA,EAACiV,iBAAAA,CACCC,SAAUf,CAAS,CAAC,EAAE,CACtB/M,YAAaA,EACboN,WAAYA,IAKdI,EAEA,GAAA7U,EAAAC,GAAA,EAACmV,eAAAA,CAAeC,OAAQd,CAAO,CAAC,EAAE,CAAGlN,YAAaA,EAAaoN,WAAYA,IAIxE,GAAAzU,EAAAC,GAAA,EAACmD,MAAAA,CAAI5C,MAAO,CAACmS,QAAS,MAAM,WAAG,2BACxC,EAEMuC,iBAAmB,SAAA5V,CAAA,MACvB6V,EAAAA,EAAAA,QAAAA,CACA9N,EAAAA,EAAAA,WAAAA,CACAoN,EAAAA,EAAAA,UAAAA,CAMOa,EAAkDH,EAAlDG,YAAAA,CAAcC,EAAoCJ,EAApCI,iBAAAA,CACfC,EAAUC,YAAAA,EADwBA,aAAAA,CACVC,MAAM,CAC9BC,EACJ,GAAA3V,EAAAC,GAAA,EAAC6U,EAAAA,CAAGA,CAAAA,CAACrL,OAAQ+L,EAAU,UAAY,OAAQ9J,KAAK,oBAC9C,GAAA1L,EAAAmC,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CAACC,KAAM,CAACC,UAAW,MAAOE,WAAY,SAAUD,IAAK,CAAC,YACxD,GAAAvC,EAAAC,GAAA,EAAC6T,EAAAA,EAAIA,CAAAA,CACHf,GAAIC,CAAAA,EAAAA,EAAAA,EAAAA,EAAyB3L,EAAa,cAA4BzH,MAAA,CAAduV,EAASlU,IAAI,GACrET,MAAO,CAAC2C,SAAU,SAAUyS,aAAc,UAAU,WAEnDC,CAAAA,EAAAA,EAAAA,CAAAA,EAAgBP,EAAcC,GAAqB,SAErDd,EACC,GAAAzU,EAAAC,GAAA,EAAC6V,EAAAA,CAAcA,CAAAA,CAAC/S,KAAK,QAAQsE,YAAaA,EAAa8N,SAAUA,IAC/D,UAKV,OAAOA,EAASG,YAAY,CAC1B,GAAAtV,EAAAC,GAAA,EAACqL,EAAAA,CAAOA,CAAAA,CACNyK,UAAU,YACVxK,QACE,GAAAvL,EAAAmC,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CAACC,KAAM,CAACC,UAAW,SAAUC,IAAK,CAAC,YACrC,GAAAvC,EAAAmC,IAAA,EAACiB,MAAAA,WAAI,SACG,GAAApD,EAAAC,GAAA,EAACoJ,SAAAA,UAAQ8L,EAASlU,IAAI,MAE9B,GAAAjB,EAAAmC,IAAA,EAACiB,MAAAA,WAAI,QACG,IACN,GAAApD,EAAAmC,IAAA,EAACkB,OAAAA,CAAK7C,MAAO,CAACwV,WAAYC,EAAAA,CAAUA,CAACC,SAAS,CAAEC,WAAY,KAAK,YAAG,IAChEhB,EAASG,YAAY,CAAC,UAG5B,GAAAtV,EAAAmC,IAAA,EAACiB,MAAAA,WAAI,aACO,GAAApD,EAAAC,GAAA,EAACoJ,SAAAA,UAAQ8L,EAASI,iBAAiB,EAAI,uBAKtDI,IAGHA,CAEJ,EAEMP,eAAiB,SAAA9V,CAAA,MACrB+V,EAAAA,EAAAA,MAAAA,CACAhO,EAAAA,EAAAA,WAAAA,CACAoN,EAAAA,EAAAA,UAAAA,CAMMe,EAAUH,YAAAA,EAAOe,WAAW,CAACV,MAAM,CACzC,MACE,GAAA1V,EAAAC,GAAA,EAAC6U,EAAAA,CAAGA,CAAAA,CAACrL,OAAQ+L,EAAU,UAAY,OAAQ9J,KAAK,mBAC9C,GAAA1L,EAAAmC,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CAACC,KAAM,CAACC,UAAW,MAAOE,WAAY,SAAUD,IAAK,CAAC,YACxD,GAAAvC,EAAAC,GAAA,EAAC6T,EAAAA,EAAIA,CAAAA,CACHf,GAAIC,CAAAA,EAAAA,EAAAA,EAAAA,EAAyB3L,EAAa,YAAwBzH,MAAA,CAAZyV,EAAOpU,IAAI,GACjET,MAAO,CAACmC,SAAU,IAAKQ,SAAU,QAAQ,WAEzC,GAAAnD,EAAAC,GAAA,EAACgT,EAAAA,CAAcA,CAAAA,CAAC/Q,KAAMmT,EAAOpU,IAAI,KAElCwT,EACC,GAAAzU,EAAAC,GAAA,EAACoW,EAAAA,CAAYA,CAAAA,CAACtT,KAAK,QAAQsE,YAAaA,EAAagO,OAAQA,IAC3D,SAIZ,8JC7IO,SAASiB,wBAAyEC,CAOxF,EACC,IAAsCjY,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,EAAAA,QAAc,CAAW,iBAAM,EAAE,MAAhEkY,EAA+BlY,CAAAA,CAAAA,EAAAA,CAAlBmY,EAAkBnY,CAAAA,CAAAA,EAAAA,CACV+P,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAA2C,CAACC,SAAU,QAAQ,MAAnFoI,EAAqBrI,CAAAA,CAAAA,EAAAA,CAAbsI,EAAatI,CAAAA,CAAAA,EAAAA,CAEtBuI,EAAiB,GAAAC,EAAA1Q,CAAA,KAAA2Q,EAAA3Q,CAAA,KAClBoQ,EAAQnO,SAAS,GACpBsO,OAAAA,EACAK,MAAOR,EAAQS,QAAQ,CAAG,IAGtBC,EAAcjI,CAAAA,EAAAA,EAAAA,CAAAA,EAAmBuH,EAAQlV,KAAK,CAAE,CACpD6N,KAAMqH,EAAQrH,IAAI,CAClB9G,UAAWwO,EACXzH,4BAA6B,EAC/B,GAGM+H,EAAyC,CAC7CC,cAAe,CAAC,CAACT,EACjBU,cAAeC,EAHWC,cAAc,CAACL,EAAY1H,IAAI,EAG9BnP,MAAM,GAAKmW,EAAQS,QAAQ,CAAG,EACzDO,UAAW,WACT,IAAMC,EAAa,GAAAC,EAAAtR,CAAA,EAAGqQ,GACtBG,EAAUa,EAAUE,GAAG,IACvBjB,EAAee,EACjB,EACAG,cAAe,WACTjB,GACFD,EAAe,SAACjR,CAAAA,QAAY,GAAAiS,EAAAtR,CAAA,EAAIX,GAAAA,MAAAA,CAAJ,CAAakR,EAAO,IAElD,IAAMkB,EAAaX,EAAY1H,IAAI,EAAIgH,EAAQsB,mBAAmB,CAACZ,EAAY1H,IAAI,EAC9EqI,GAGLjB,EAAUiB,EACZ,EACAE,MAAO,WACLrB,EAAe,EAAE,EACjBE,EAAUzV,KAAAA,EACZ,CACF,EAEA,MAAO,CAAC+V,YAAAA,EAAaC,gBAAAA,CAAe,CACtC,weClDaa,gBAAkB,SAAClW,CAAAA,EAC9B,IAAOwF,EAAyCxF,EAAzCwF,WAAAA,CAAapB,EAA4BpE,EAA5BoE,IAAAA,CAAMhC,EAAsBpC,EAAtBoC,UAAAA,CAAYY,EAAUhD,EAAVgD,MAAAA,CAEpC+H,EACEoL,CAAAA,EAAAA,EAAAA,EAAAA,EAA0B3Q,MAAAA,EAAAA,KAAAA,EAAAA,EAAalD,QAAQ,EADjDyI,WAAAA,CAAcC,aAAAA,CAG6BoL,EAAAA,CAAAA,EAAAA,EAAAA,EAAAA,IAAtCpX,EAAsCoX,EAAtCpX,OAAAA,CAASqX,EAA6BD,EAA7BC,OAAAA,CAASC,EAAoBF,EAApBE,gBAAAA,CACnBC,EAAkBnU,EACpBoU,CAAAA,EAAAA,EAAAA,EAAAA,EAAkC,CAACpU,EAAW,EAC9C,gDAEJ,MACE,GAAAyC,EAAAvE,IAAA,EAAAuE,EAAAiE,QAAA,YACE,GAAAjE,EAAAzG,GAAA,EAAC6M,EAAAA,CAAOA,CAAAA,CACN7B,SAAS,eACTM,QACE,GAAA7E,EAAAvE,IAAA,EAAC4K,EAAAA,EAAIA,CAAAA,WACH,GAAArG,EAAAzG,GAAA,EAACqL,EAAAA,CAAOA,CAAAA,CACNC,QAAS6M,GAAmB,mCAC5BrC,UAAU,OACVpD,QAAQ,QACR2F,4BAA2B,YAE3B,GAAA5R,EAAAzG,GAAA,EAAC6B,EAAAA,EAAQA,CAAAA,CACPI,KAAK,cACLwJ,KAAMwM,EAAU,GAAAxR,EAAAzG,GAAA,EAACyT,EAAAA,CAAOA,CAAAA,CAACnC,QAAQ,cAAiB,kBAClD7N,SAAU,CAAC,CAAC0U,GAAmBF,EAC/BrX,QAAS,SAACyL,CAAAA,SAAMzL,EAAQ,CAAC,CAACoF,KAAAA,CAAI,EAAE,CAAEqG,QAGtC,GAAA5F,EAAAzG,GAAA,EAACsY,EAAAA,CAAQA,CAAAA,CACPrW,KAAK,gBACL6Q,GACE1L,GAAepD,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAYjF,SAAS,EAChCgU,CAAAA,EAAAA,EAAAA,EAAAA,EAAyB3L,EAAa,iBAAsCzH,MAAA,CAArBqE,EAAWjF,SAAS,GAC3E,GAEN0E,SAAU,CAACO,EACXyH,KAAK,gBAEP,GAAAhF,EAAAzG,GAAA,EAACsY,EAAAA,CAAQA,CAAAA,CACPrW,KAAK,iBACL6Q,GAAIyF,CAAAA,EAAAA,EAAAA,CAAAA,EAAuB,CAACvS,KAAAA,CAAI,EAAG,CAAClB,KAAM,UAAW0T,aAAc,WAAW,GAC9E/U,SAAU,CAACO,EACXyH,KAAK,oBAEP,GAAAhF,EAAAzG,GAAA,EAACsY,EAAAA,CAAQA,CAAAA,CACPrW,KAAK,uBACL6Q,GAAIyF,CAAAA,EAAAA,EAAAA,CAAAA,EAAuB,CAACvS,KAAAA,CAAI,EAAG,CAAClB,KAAM,UAAW0T,aAAc,UAAU,GAC7E/U,SAAU,CAACO,EACXyH,KAAK,mBAEP,GAAAhF,EAAAzG,GAAA,EAACsY,EAAAA,CAAQA,CAAAA,CACPrW,KAAK,yBACL6Q,GAAIyF,CAAAA,EAAAA,EAAAA,CAAAA,EAAuB,CAACvS,KAAAA,CAAI,EAAG,CAAClB,KAAM,UAAW0T,aAAc,YAAY,GAC/E/U,SAAU,CAACO,EACXyH,KAAK,qBAEP,GAAAhF,EAAAzG,GAAA,EAAC6B,EAAAA,EAAQA,CAAAA,CACPI,KAAK,wBACLwJ,KAAK,SACLhI,SAAU,CAACmB,GAAU,CAACgI,EACtBpD,OAAO,SACP5I,QAAS,kBAAMgM,GAAiBhI,GAAUA,EAAO,CAAC,CAACoB,KAAAA,CAAI,EAAE,iBAK/D,GAAAS,EAAAzG,GAAA,EAACuJ,EAAAA,EAAMA,CAAAA,CAACkC,KAAM,GAAAhF,EAAAzG,GAAA,EAACe,EAAAA,EAAIA,CAAAA,CAACC,KAAK,oBAE1BkX,IAGP,+kBCzDA,IAAMO,EAAmB,iBACnBC,EAA+B,8BAkBxBvR,oBAAsB,SAACvF,CAAAA,EAClC,IAmO0CvD,EAAnCsa,EAAeC,EAChBC,EAEAC,EAECxJ,EAtIoCyJ,EAjGzC/S,EAYEpE,EAZFoE,IAAAA,CACAhC,EAWEpC,EAXFoC,UAAAA,CACAuC,EAUE3E,EAVF2E,IAAAA,CACAa,EASExF,EATFwF,WAAAA,CACAJ,EAQEpF,EARFoF,KAAAA,CACAO,EAOE3F,EAPF2F,MAAAA,CACA3E,EAMEhB,EANFgB,OAAAA,CACA6E,EAKE7F,EALF6F,eAAAA,CACA7C,EAIEhD,EAJFgD,MAAAA,CAAAA,EAIEhD,EAHF0F,kBAAAA,CACAzC,EAEEjD,EAFFiD,cAAAA,CAAAA,EAEEjD,EADFkD,IAAAA,CAGIiU,GAoNCJ,EAAmCta,CAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,EAAAA,EAAAA,QAAc,CAAkB,EAAE,KAAlCA,CAAAA,EAAAA,CAApBua,EAAoBva,CAAAA,CAAAA,EAAAA,CACpCwa,EAAgBF,CAAa,CAAC,EAAE,EAAI,GAEpCG,EAAmBE,CAAAA,EAAAA,EAAAA,EAAAA,EAAkBzS,UAvNwBA,EAuNLoS,EAAgB,EAAE,EAAzEG,cAAAA,CAEAxJ,EAAoBP,CAAAA,EAAAA,EAAAA,CAAAA,EACzBkK,EACA,CACEhK,KAAM1I,kBA5NyDA,GA4N7B,CAACsS,EACnC1Q,UAAW,CAAC+Q,MAAOL,CAAY,CACjC,GALKvJ,IAAAA,CAkBP,CAVAjR,EAAAA,SAAe,CAAC,WACd,GAAIkI,WAlO6DA,GAqOjE,IAAM4S,EAAQC,WAAW,WACvBR,EAAiB5S,EAAO,CAAC,CAACA,KAtO+BA,CAsO3B,EAAE,CAAG,EAAE,CACvC,EAjCqB,KAkCrB,OAAO,kBAAMqT,aAAaF,IAC5B,EAAG,CAzOgE5S,EAANP,EAyO9C,EAEXO,UA3O+DA,GA4O1DuS,CAAc,CAAC7G,CAAAA,EAAAA,EAAAA,EAAAA,EAAiB,CAACjM,KA5OmBA,CA4Of,GAAG,CAG7CO,kBA/O+DA,EAgP1D,GAAAuF,EAAA5F,CAAA,KAAA6F,EAAA7F,CAAA,KACFoT,EAAAA,EAAiBA,EAAAA,CACpBC,oBACEC,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAYC,YAAY,CAAC/J,UAAU,IAAK,SACxC8J,EAAWC,YAAY,CAACC,qBAAqB,CAAC,EAAE,CAC5CF,EAAWC,YAAY,CAACC,qBAAqB,CAAC,EAAE,CAChD,OAIH,MAzPDC,EAAUpB,CAAAA,EAAAA,EAAAA,CAAAA,EAAuB,CAACvS,KAAAA,CAAI,GAW5C,MACE,GAAAS,EAAAzG,GAAA,EAAC4Z,EAAAA,EAAGA,CAAAA,CAACC,QAAStS,EAAQuS,OAAQ9S,EAAOuE,cAAaC,CAAAA,EAAAA,EAAAA,CAAAA,EAAO,OAAgC7L,MAAA,CAAzBsS,CAAAA,EAAAA,EAAAA,EAAAA,EAAiB,CAACjM,KAAAA,CAAI,cACpF,GAAAS,EAAAvE,IAAA,EAAC6X,EAAAA,CAAQC,OAAO,SAASC,gBAAiBpV,YACvCyC,KApBLA,IAAAA,GAAqB4S,EAqBf,GAAAzT,EAAAzG,GAAA,EAACma,EAAAA,EAAOA,CAAAA,UACN,GAAA1T,EAAAzG,GAAA,EAAC2C,EAAAA,CAAQA,CAAAA,CAACC,QAASA,EAASpD,SAdrB,SAAC6M,CAAAA,EACZ5E,GAAmB4E,EAAEC,MAAM,YAAYC,kBAIzC9E,EAAgB,CAAC7E,QAHCyJ,EAAEC,MAAM,CAAnB1J,OAAAA,CAGmBwX,SADxB/N,EAAEgO,WAAW,YAAYC,YAAcjO,EAAEgO,WAAW,CAACE,gBAAgB,CAAC,QACtC,EAEtC,MASU,KACJ,GAAA9T,EAAAvE,IAAA,EAACiY,EAAAA,EAAOA,CAAAA,WACN,GAAA1T,EAAAvE,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CAACC,KAAM,CAACG,WAAY,QAAQ,YAC9B,GAAAkE,EAAAzG,GAAA,EAACmD,MAAAA,CAAI5C,MAAO,CAAC6B,KAAM,EAAGgP,SAAU,CAAC,WAC/B,GAAA3K,EAAAzG,GAAA,EAACwa,EAAAA,CAASA,CAAAA,CACRxU,KAAMO,WAAAA,GAAqBzB,cA3BvCA,CAAAA,KAAAA,IAAAA,EAAO,OAAAC,CAAA,EA2BuDiB,EAAKiK,KAAK,CAAC,IAAMjK,EACnEyU,IAAKd,EACLe,QAASnU,WAAAA,EACTkF,KAAMlF,EACNoU,UAAU,sBAGb3W,GACC,GAAAyC,EAAAzG,GAAA,EAAC4a,EAAAA,EAAmBA,CAAAA,CAClBC,YAAW,GACXC,WAAU,GACV9W,WAAYA,EACZzD,MAAO,CAACyK,SAAU,UAAU,OAIlC,GAAAvE,EAAAzG,GAAA,EAACmD,MAAAA,CACC5C,MAAO,CACLmC,SAAU,OACVQ,SAAU,SACVyS,aAAc,UAChB,WAEA,GAAAlP,EAAAzG,GAAA,EAAC+a,EAAAA,EAAOA,CAAAA,CAACxa,MAAO,CAACwM,MAAOiO,CAAAA,EAAAA,EAAAA,CAAAA,IAAkBC,WAAY,QAAQ,WAC3DjX,MAAAA,EAAAA,KAAAA,EAAAA,EAAYmI,WAAW,QAI7BtH,EACC,GAAA4B,EAAAzG,GAAA,EAACma,EAAAA,EAAOA,CAAAA,UACL/S,EACC,GAAAX,EAAAvE,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CACFC,KAAM,CAACC,UAAW,SAAUC,IAAK,CAAC,EAClC/B,MAAO,CAACmC,SAAU,OAAQQ,SAAU,QAAQ,YAE5C,GAAAuD,EAAAzG,GAAA,EAACmS,EAAAA,CAAcA,CAAAA,CAAC/K,YAAaA,EAAagL,SAAQ,GAACE,YAAa,KAC/DtO,GAAcA,EAAWjF,SAAS,CACjC,GAAA0H,EAAAzG,GAAA,EAAC6T,EAAAA,EAAIA,CAAAA,CACHf,GAAIC,CAAAA,EAAAA,EAAAA,EAAAA,EACF3L,EACA,iBAAsCzH,MAAA,CAArBqE,EAAWjF,SAAS,YAGvC,GAAA0H,EAAAvE,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CAACC,KAAM,CAACC,UAAW,MAAOC,IAAK,EAAGC,WAAY,QAAQ,YACxD,GAAAkE,EAAAzG,GAAA,EAACe,EAAAA,EAAIA,CAAAA,CAACgM,MAAO6F,CAAAA,EAAAA,EAAAA,EAAAA,IAAmB5R,KAAK,gBACpCgD,EAAWjF,SAAS,MAGvB,QAGN,GAAA0H,EAAAzG,GAAA,EAACoD,OAAAA,UAAM,QAGT,KACJ,GAAAqD,EAAAzG,GAAA,EAACma,EAAAA,EAAOA,CAAAA,UACLnW,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAYkX,mBAAmB,EAC9B,GAAAzU,EAAAvE,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CAACC,KAAM,CAACC,UAAW,SAAUE,WAAY,aAAcD,IAAK,CAAC,YAC/D,GAAAmE,EAAAzG,GAAA,EAACmb,EAAAA,EAAoBA,CAAAA,CAACC,eAAgBrC,MAAAA,EAAAA,KAAAA,EAAAA,EAAUqC,cAAc,GAC9D,GAAA3U,EAAAzG,GAAA,EAAC+a,EAAAA,EAAOA,CAAAA,UAAEM,CAAAA,EAAAA,EAAAA,EAAAA,EAAqBtC,MAAAA,EAAAA,KAAAA,EAAAA,OAAAA,CAAAA,EAAAA,EAAUqC,cAAc,GAAxBrC,KAAAA,IAAAA,EAAAA,KAAAA,EAAAA,EAA0BuC,aAAa,OAGxE,GAAA7U,EAAAvE,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CAACC,KAAM,CAACC,UAAW,SAAUE,WAAY,aAAcD,IAAK,CAAC,YAC9D0B,EACC,GAAAyC,EAAAzG,GAAA,EAACmC,EAAAA,CAAGA,CAAAA,CACF5B,MAAO,CAAC0a,WAAY,QAAQ,EAC5B7Y,KAAM,CAACC,UAAW,MAAOE,WAAY,SAAUD,IAAK,CAAC,WAGnDiZ,CAAAA,EAAAA,EAAAA,EAAAA,EAA4B,CAC1BvS,SAAU,CAAChD,KAAAA,CAAI,EACfhC,WAAAA,EACAwX,SAAU,GACVzC,SAAAA,CACF,GAAGzN,OAAO,GAGZyN,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAUQ,mBAAmB,EAC/B,GAAA9S,EAAAzG,GAAA,EAACyb,EAAAA,CAAYA,CAAAA,CACXzS,SAAU,CAAChD,KAAAA,CAAI,EACf0V,MAAO3C,EAASQ,mBAAmB,CAACmC,KAAK,CACzCC,MAAO,CACLC,QAAS7C,EAAS6C,OAAO,CACzBC,UAAW9C,EAASQ,mBAAmB,CAACsC,SAAS,WAGnD,GAAApV,EAAAzG,GAAA,EAAC8b,EAAAA,CAAgBA,CAAAA,CACfD,UAAWE,OAAOhD,EAASQ,mBAAmB,CAACsC,SAAS,EAAI,IAC5DG,WAAY,CAACC,YAAa,GAAOC,aAAc,EAAK,MAIxD,GAAAzV,EAAAzG,GAAA,EAACmD,MAAAA,CAAI5C,MAAO,CAACwM,MAAOiO,CAAAA,EAAAA,EAAAA,CAAAA,GAAgB,WACjC,GAAazU,WAAAA,EAAgC,IAAZ,YAGrCwS,GACC,GAAAtS,EAAAzG,GAAA,EAACmc,EAAAA,EAAiBA,CAAAA,CAACnT,SAAU,CAAChD,KAAAA,CAAI,EAAG+S,SAAUA,EAAUqD,QAAQ,aAKzE,GAAA3V,EAAAzG,GAAA,EAACma,EAAAA,EAAOA,CAAAA,UACL5T,WAAAA,EACC,GAAAE,EAAAzG,GAAA,EAAC8X,gBAAeA,CACd9R,KAAMA,EACNhC,WAAYA,EACZoD,YAAaA,EACbxC,OAAQA,IAER,WAKd,EAEagC,8BAAgC,SAAAvH,CAAA,MAC3CkF,EAAAA,EAAAA,cAAAA,CACAO,EAAAA,EAAAA,IAAAA,CAKA,MACE,GAAA2B,EAAAvE,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CACFwI,WAAYC,CAAAA,EAAAA,EAAAA,EAAAA,IACZoP,OAAO,iBACPzZ,MAAO,CACLmS,QAAS,OACT2J,oBAAqB3D,EACrBnR,OAAQ,OACR+U,SAAU,OACVvP,MAAOiO,CAAAA,EAAAA,EAAAA,CAAAA,IACPhQ,SAAU,SACVC,IAAK,EACLC,OAAQ,CACV,YAEA,GAAAzE,EAAAzG,GAAA,EAACuc,EAAAA,EAAUA,CAAAA,UAAEhY,IACb,GAAAkC,EAAAzG,GAAA,EAACuc,EAAAA,EAAUA,CAAAA,UAAEzX,SAAAA,EAAkB,aAAe,qBAC9C,GAAA2B,EAAAzG,GAAA,EAACuc,EAAAA,EAAUA,CAAAA,UAAC,gCACZ,GAAA9V,EAAAzG,GAAA,EAACuc,EAAAA,EAAUA,CAAAA,UAAC,WACZ,GAAA9V,EAAAzG,GAAA,EAACuc,EAAAA,EAAUA,CAAAA,CAAAA,KAGjB,EAEaC,uBAAyB,SAAAnd,CAAA,MAAEod,EAAAA,EAAAA,SAAAA,CACtC,MACE,GAAAhW,EAAAvE,IAAA,EAACC,EAAAA,CAAGA,CAAAA,CACF6X,OAAO,iBACPzZ,MAAO,CACLmS,QAAS,OACT2J,oBAAqB5D,EACrBlR,OAAQ,OACR+U,SAAU,OACVvP,MAAOiO,CAAAA,EAAAA,EAAAA,CAAAA,GACT,YAEA,GAAAvU,EAAAzG,GAAA,EAACuc,EAAAA,EAAUA,CAAAA,UAAEE,IACb,GAAAhW,EAAAzG,GAAA,EAACuc,EAAAA,EAAUA,CAAAA,UAAC,WACZ,GAAA9V,EAAAzG,GAAA,EAACuc,EAAAA,EAAUA,CAAAA,CAAAA,KAGjB,EAEMxC,EAAUnG,CAAAA,EAAAA,EAAAA,EAAAA,EAAOzR,EAAAA,CAAGA,EAAAA,UAAAA,CAAAA,iDAEC,SAAA9C,CAAA,SACvB4a,EADyBA,eAAAA,CACPvB,EAA+BD,IA2DxCQ,EAA6B7U,CAAAA,EAAAA,EAAAA,EAAAA,EAAGA","sources":["webpack://_N_E/../ui-core/src/assets/AssetGroupSuggest.tsx","webpack://_N_E/../ui-core/src/assets/AssetTableFragment.tsx","webpack://_N_E/../ui-core/src/workspace/VirtualizedAssetTable.tsx","webpack://_N_E/../ui-core/src/assets/AssetWipeDialog.tsx","webpack://_N_E/../ui-core/src/assets/AssetTable.tsx","webpack://_N_E/../ui-core/src/assets/AssetsEmptyState.tsx","webpack://_N_E/../ui-core/src/assets/useAssetView.tsx","webpack://_N_E/../ui-core/src/assets/AssetsCatalogTable.tsx","webpack://_N_E/../ui-core/src/assets/AutomationPolicySensorFlag.tsx","webpack://_N_E/../ui-core/src/assets/useAssetSearch.tsx","webpack://_N_E/../ui-core/src/nav/RepositoryLink.tsx","webpack://_N_E/../ui-core/src/nav/ScheduleOrSensorTag.tsx","webpack://_N_E/../ui-core/src/runs/useCursorPaginatedQuery.tsx","webpack://_N_E/../ui-core/src/assets/AssetActionMenu.tsx","webpack://_N_E/../ui-core/src/workspace/VirtualizedAssetRow.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import {Box, Checkbox, Icon, MenuItem, Suggest} from '@dagster-io/ui-components';\nimport isEqual from 'lodash/isEqual';\nimport uniqBy from 'lodash/uniqBy';\nimport * as React from 'react';\n\nimport {AssetGroupSelector} from '../graphql/types';\nimport {ClearButton} from '../ui/ClearButton';\nimport {buildRepoPathForHuman} from '../workspace/buildRepoAddress';\n\ntype Asset = {\n  definition: {\n    groupName: string | null;\n    repository: {name: string; location: {name: string}};\n  } | null;\n};\n\nexport function useAssetGroupSelectorsForAssets(assets: Asset[] | undefined) {\n  return React.useMemo(\n    () =>\n      uniqBy(\n        (assets || []).map(buildAssetGroupSelector).filter((a) => !!a) as AssetGroupSelector[],\n        (a) => JSON.stringify(a),\n      ).sort((a, b) => a.groupName.localeCompare(b.groupName)),\n    [assets],\n  );\n}\n\n// We're using a <Suggest /> component because it's convenient to have typeahead behavior,\n// but we want to support mulit-selection. To achieve this, we show checkboxes on the items\n// and override the label text (\"2 groups\"). Blueprint doesn't need to know what the real\n// selection is, just that one exists.\nconst FAKE_SELECTED_ITEM: AssetGroupSelector = {\n  groupName: '-',\n  repositoryLocationName: '-',\n  repositoryName: '-',\n};\n\nexport const AssetGroupSuggest = ({\n  assetGroups,\n  value,\n  onChange,\n}: {\n  assetGroups: AssetGroupSelector[];\n  value: AssetGroupSelector[];\n  onChange: (g: AssetGroupSelector[]) => void;\n}) => {\n  const repoKey = (g: AssetGroupSelector) => `${g.repositoryName}@${g.repositoryLocationName}`;\n  const repoKey1 = assetGroups[0] ? repoKey(assetGroups[0]) : '';\n  const repoContextNeeded = !assetGroups.every((g) => repoKey1 === repoKey(g));\n\n  return (\n    <Suggest<AssetGroupSelector>\n      selectedItem={value.length ? FAKE_SELECTED_ITEM : null}\n      items={assetGroups}\n      menuWidth={300}\n      inputProps={{\n        style: {width: 200},\n        placeholder: 'Filter asset groupsâ€¦',\n        rightElement: value.length ? (\n          <ClearButton onClick={() => onChange([])} style={{marginTop: 5, marginRight: 4}}>\n            <Icon name=\"cancel\" />\n          </ClearButton>\n        ) : undefined,\n      }}\n      inputValueRenderer={() =>\n        value.length === 1 ? value[0]!.groupName : value.length > 1 ? `${value.length} groups` : ``\n      }\n      itemPredicate={(query, partition) =>\n        query.length === 0 || partition.groupName.toLowerCase().includes(query.toLowerCase())\n      }\n      itemsEqual={isEqual}\n      itemRenderer={(assetGroup, props) => (\n        <MenuItem\n          active={props.modifiers.active}\n          onClick={props.handleClick}\n          key={JSON.stringify(assetGroup)}\n          text={\n            <Box\n              flex={{direction: 'row', gap: 6, alignItems: 'center'}}\n              margin={{left: 4}}\n              style={{maxWidth: '500px'}}\n            >\n              <Checkbox checked={value.some((g) => isEqual(g, assetGroup))} size=\"small\" readOnly />\n              <Box\n                flex={{direction: 'row', alignItems: 'center', grow: 1, shrink: 1}}\n                style={{overflow: 'hidden'}}\n              >\n                <div style={{overflow: 'hidden'}}>\n                  {assetGroup.groupName}\n                  {repoContextNeeded ? (\n                    <span style={{opacity: 0.5, paddingLeft: 4}}>\n                      {buildRepoPathForHuman(\n                        assetGroup.repositoryName,\n                        assetGroup.repositoryLocationName,\n                      )}\n                    </span>\n                  ) : undefined}\n                </div>\n              </Box>\n            </Box>\n          }\n        />\n      )}\n      noResults={<MenuItem disabled={true} text=\"No asset groups\" />}\n      closeOnSelect={false}\n      resetOnQuery={false}\n      onItemSelect={(item) => {\n        const nextValue = value.filter((g) => !isEqual(item, g));\n        if (nextValue.length === value.length) {\n          nextValue.push(item);\n        }\n        onChange(nextValue);\n      }}\n    />\n  );\n};\n\nexport function buildAssetGroupSelector(a: Asset) {\n  return a.definition && a.definition.groupName\n    ? {\n        groupName: a.definition.groupName,\n        repositoryName: a.definition.repository.name,\n        repositoryLocationName: a.definition.repository.location.name,\n      }\n    : null;\n}\n","import {gql} from '@apollo/client';\n\nexport const ASSET_TABLE_DEFINITION_FRAGMENT = gql`\n  fragment AssetTableDefinitionFragment on AssetNode {\n    id\n    groupName\n    opNames\n    isSource\n    isObservable\n    isExecutable\n    computeKind\n    hasMaterializePermission\n    partitionDefinition {\n      description\n    }\n    description\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n  }\n`;\n\nexport const ASSET_TABLE_FRAGMENT = gql`\n  fragment AssetTableFragment on Asset {\n    id\n    key {\n      path\n    }\n    definition {\n      id\n      ...AssetTableDefinitionFragment\n    }\n  }\n\n  ${ASSET_TABLE_DEFINITION_FRAGMENT}\n`;\n","import {useVirtualizer} from '@tanstack/react-virtual';\nimport * as React from 'react';\n\nimport {AssetTableFragment} from '../assets/types/AssetTableFragment.types';\nimport {AssetViewType} from '../assets/useAssetView';\nimport {AssetKeyInput} from '../graphql/types';\nimport {Container, Inner} from '../ui/VirtualizedTable';\n\nimport {VirtualizedAssetCatalogHeader, VirtualizedAssetRow} from './VirtualizedAssetRow';\nimport {buildRepoAddress} from './buildRepoAddress';\n\ntype Row =\n  | {type: 'asset'; path: string[]; displayKey: string; asset: AssetTableFragment}\n  | {type: 'folder'; path: string[]; displayKey: string; assets: AssetTableFragment[]};\n\ninterface Props {\n  headerCheckbox: React.ReactNode;\n  prefixPath: string[];\n  groups: {[displayKey: string]: AssetTableFragment[]};\n  checkedDisplayKeys: Set<string>;\n  onToggleFactory: (path: string) => (values: {checked: boolean; shiftKey: boolean}) => void;\n  onWipe: (assets: AssetKeyInput[]) => void;\n  showRepoColumn: boolean;\n  view?: AssetViewType;\n}\n\nexport const VirtualizedAssetTable = (props: Props) => {\n  const {\n    headerCheckbox,\n    prefixPath,\n    groups,\n    checkedDisplayKeys,\n    onToggleFactory,\n    onWipe,\n    showRepoColumn,\n    view = 'flat',\n  } = props;\n  const parentRef = React.useRef<HTMLDivElement | null>(null);\n  const count = Object.keys(groups).length;\n\n  const rowVirtualizer = useVirtualizer({\n    count,\n    getScrollElement: () => parentRef.current,\n    estimateSize: () => 64,\n    overscan: 5,\n  });\n\n  const totalHeight = rowVirtualizer.getTotalSize();\n  const items = rowVirtualizer.getVirtualItems();\n\n  const rows: Row[] = React.useMemo(() => {\n    return Object.entries(groups).map(([displayKey, assets]) => {\n      const path = [...prefixPath, ...JSON.parse(displayKey)];\n      const isFolder = assets.length > 1 || path.join('/') !== assets[0]!.key.path.join('/');\n      return isFolder\n        ? {type: 'folder', path, displayKey, assets}\n        : {type: 'asset', path, displayKey, asset: assets[0]!};\n    });\n  }, [prefixPath, groups]);\n\n  return (\n    <div style={{overflow: 'hidden'}}>\n      <Container ref={parentRef}>\n        <VirtualizedAssetCatalogHeader headerCheckbox={headerCheckbox} view={view} />\n        <Inner $totalHeight={totalHeight}>\n          {items.map(({index, key, size, start}) => {\n            const row: Row = rows[index]!;\n            const rowType = () => {\n              if (row.type === 'folder') {\n                return 'folder';\n              }\n              return row.asset.definition ? 'asset' : 'asset_non_sda';\n            };\n\n            const repoAddress = () => {\n              if (row.type === 'folder' || !row.asset.definition) {\n                return null;\n              }\n              const repository = row.asset.definition.repository;\n              return buildRepoAddress(repository.name, repository.location.name);\n            };\n\n            const wipeableAssets = row.type === 'folder' ? row.assets : [row.asset];\n\n            return (\n              <VirtualizedAssetRow\n                key={key}\n                view={view}\n                type={rowType()}\n                path={row.path}\n                definition={row.type === 'asset' ? row.asset.definition : null}\n                repoAddress={repoAddress()}\n                showCheckboxColumn\n                showRepoColumn={showRepoColumn}\n                height={size}\n                start={start}\n                checked={checkedDisplayKeys.has(row.displayKey)}\n                onToggleChecked={onToggleFactory(row.displayKey)}\n                onWipe={() => onWipe(wipeableAssets.map((a) => a.key))}\n              />\n            );\n          })}\n        </Inner>\n      </Container>\n    </div>\n  );\n};\n","import {gql, RefetchQueriesFunction, useMutation} from '@apollo/client';\nimport {Button, DialogBody, DialogFooter, Dialog, Group} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {displayNameForAssetKey} from '../asset-graph/Utils';\n\nimport {asAssetKeyInput} from './asInput';\nimport {AssetWipeMutation, AssetWipeMutationVariables} from './types/AssetWipeDialog.types';\n\ninterface AssetKey {\n  path: string[];\n}\n\nexport const AssetWipeDialog = ({\n  assetKeys,\n  isOpen,\n  onClose,\n  onComplete,\n  requery,\n}: {\n  assetKeys: AssetKey[];\n  isOpen: boolean;\n  onClose: () => void;\n  onComplete: (assetKeys: AssetKey[]) => void;\n  requery?: RefetchQueriesFunction;\n}) => {\n  const [requestWipe] = useMutation<AssetWipeMutation, AssetWipeMutationVariables>(\n    ASSET_WIPE_MUTATION,\n    {\n      variables: {assetKeys: assetKeys.map(asAssetKeyInput)},\n      refetchQueries: requery,\n    },\n  );\n\n  const wipe = async () => {\n    if (!assetKeys.length) {\n      return;\n    }\n    await requestWipe();\n    onComplete(assetKeys);\n  };\n\n  return (\n    <Dialog isOpen={isOpen} title=\"Wipe materializations\" onClose={onClose} style={{width: 600}}>\n      <DialogBody>\n        <Group direction=\"column\" spacing={16}>\n          <div>Are you sure you want to wipe materializations for these assets?</div>\n          <ul style={{paddingLeft: 32, margin: 0}}>\n            {assetKeys.map((assetKey) => {\n              const name = displayNameForAssetKey(assetKey);\n              return (\n                <li style={{marginBottom: 4}} key={name}>\n                  {name}\n                </li>\n              );\n            })}\n          </ul>\n          <div>\n            Assets defined only by their historical materializations will disappear from the Asset\n            Catalog. Software-defined assets will remain unless their definition is also deleted.\n          </div>\n          <strong>This action cannot be undone.</strong>\n        </Group>\n      </DialogBody>\n      <DialogFooter topBorder>\n        <Button intent=\"none\" onClick={onClose}>\n          Cancel\n        </Button>\n        <Button intent=\"danger\" onClick={wipe}>\n          Wipe\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n};\n\nconst ASSET_WIPE_MUTATION = gql`\n  mutation AssetWipeMutation($assetKeys: [AssetKeyInput!]!) {\n    wipeAssets(assetKeys: $assetKeys) {\n      ... on AssetWipeSuccess {\n        assetKeys {\n          path\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import {RefetchQueriesFunction} from '@apollo/client';\nimport {\n  Box,\n  Button,\n  Checkbox,\n  Icon,\n  Menu,\n  MenuItem,\n  NonIdealState,\n  Popover,\n  Tooltip,\n  colorAccentRed,\n  colorBackgroundDefault,\n  colorTextDisabled,\n} from '@dagster-io/ui-components';\nimport groupBy from 'lodash/groupBy';\nimport * as React from 'react';\n\nimport {useUnscopedPermissions} from '../app/Permissions';\nimport {QueryRefreshCountdown, QueryRefreshState} from '../app/QueryRefresh';\nimport {AssetGroupSelector, AssetKeyInput} from '../graphql/types';\nimport {useSelectionReducer} from '../hooks/useSelectionReducer';\nimport {testId} from '../testing/testId';\nimport {VirtualizedAssetTable} from '../workspace/VirtualizedAssetTable';\n\nimport {AssetWipeDialog} from './AssetWipeDialog';\nimport {LaunchAssetExecutionButton} from './LaunchAssetExecutionButton';\nimport {AssetTableFragment} from './types/AssetTableFragment.types';\nimport {AssetViewType} from './useAssetView';\n\ntype Asset = AssetTableFragment;\n\ninterface Props {\n  view: AssetViewType;\n  assets: Asset[];\n  refreshState: QueryRefreshState;\n  actionBarComponents: React.ReactNode;\n  prefixPath: string[];\n  displayPathForAsset: (asset: Asset) => string[];\n  requery?: RefetchQueriesFunction;\n  searchPath: string;\n  searchGroups: AssetGroupSelector[];\n}\n\nexport const AssetTable = ({\n  assets,\n  actionBarComponents,\n  refreshState,\n  prefixPath,\n  displayPathForAsset,\n  requery,\n  searchPath,\n  searchGroups,\n  view,\n}: Props) => {\n  const [toWipe, setToWipe] = React.useState<AssetKeyInput[] | undefined>();\n\n  const groupedByDisplayKey = groupBy(assets, (a) => JSON.stringify(displayPathForAsset(a)));\n  const displayKeys = Object.keys(groupedByDisplayKey).sort();\n\n  const [{checkedIds: checkedDisplayKeys}, {onToggleFactory, onToggleAll}] =\n    useSelectionReducer(displayKeys);\n\n  const checkedAssets: Asset[] = [];\n  displayKeys.forEach((displayKey) => {\n    if (checkedDisplayKeys.has(displayKey)) {\n      checkedAssets.push(...(groupedByDisplayKey[displayKey] || []));\n    }\n  });\n\n  const content = () => {\n    if (!assets.length) {\n      if (searchPath) {\n        return (\n          <Box padding={{top: 64}}>\n            <NonIdealState\n              icon=\"search\"\n              title=\"No matching assets\"\n              description={\n                searchGroups.length ? (\n                  <div>\n                    No assets matching <strong>{searchPath}</strong> were found in{' '}\n                    {searchGroups.length === 1 ? (\n                      <strong>{searchGroups[0]?.groupName}</strong>\n                    ) : (\n                      'the selected asset groups'\n                    )}\n                  </div>\n                ) : (\n                  <div>\n                    No assets matching <strong>{searchPath}</strong> were found\n                  </div>\n                )\n              }\n            />\n          </Box>\n        );\n      }\n\n      return (\n        <Box padding={{top: 20}}>\n          <NonIdealState\n            icon=\"search\"\n            title=\"No assets\"\n            description={\n              searchGroups.length ? (\n                <div>\n                  No assets were found in{' '}\n                  {searchGroups.length === 1 ? (\n                    <strong>{searchGroups[0]?.groupName}</strong>\n                  ) : (\n                    'the selected asset groups'\n                  )}\n                </div>\n              ) : (\n                'No assets were found'\n              )\n            }\n          />\n        </Box>\n      );\n    }\n\n    return (\n      <VirtualizedAssetTable\n        headerCheckbox={\n          <Checkbox\n            indeterminate={\n              checkedDisplayKeys.size > 0 && checkedDisplayKeys.size !== displayKeys.length\n            }\n            checked={checkedDisplayKeys.size > 0 && checkedDisplayKeys.size === displayKeys.length}\n            onChange={(e) => {\n              if (e.target instanceof HTMLInputElement) {\n                onToggleAll(checkedDisplayKeys.size !== displayKeys.length);\n              }\n            }}\n          />\n        }\n        prefixPath={prefixPath}\n        groups={groupedByDisplayKey}\n        checkedDisplayKeys={checkedDisplayKeys}\n        onToggleFactory={onToggleFactory}\n        showRepoColumn\n        view={view}\n        onWipe={(assetKeys: AssetKeyInput[]) => setToWipe(assetKeys)}\n      />\n    );\n  };\n\n  return (\n    <>\n      <Box flex={{direction: 'column'}} style={{height: '100%', overflow: 'hidden'}}>\n        <Box\n          background={colorBackgroundDefault()}\n          flex={{alignItems: 'center', gap: 12}}\n          padding={{vertical: 8, left: 24, right: 12}}\n          style={{position: 'sticky', top: 0, zIndex: 1}}\n        >\n          {actionBarComponents}\n          <div style={{flex: 1}} />\n          <QueryRefreshCountdown refreshState={refreshState} />\n          <Box flex={{alignItems: 'center', gap: 8}}>\n            {checkedAssets.some((c) => !c.definition) ? (\n              <Tooltip content=\"One or more selected assets are not software-defined and cannot be launched directly.\">\n                <Button\n                  intent=\"primary\"\n                  data-testid={testId('materialize-button')}\n                  icon={<Icon name=\"materialization\" />}\n                  disabled\n                >\n                  {checkedAssets.length > 1\n                    ? `Materialize (${checkedAssets.length.toLocaleString()})`\n                    : 'Materialize'}\n                </Button>\n              </Tooltip>\n            ) : (\n              <LaunchAssetExecutionButton\n                scope={{selected: checkedAssets.map((a) => ({...a.definition!, assetKey: a.key}))}}\n              />\n            )}\n            <MoreActionsDropdown\n              selected={checkedAssets}\n              clearSelection={() => onToggleAll(false)}\n            />\n          </Box>\n        </Box>\n        {content()}\n      </Box>\n      <AssetWipeDialog\n        assetKeys={toWipe || []}\n        isOpen={!!toWipe}\n        onClose={() => setToWipe(undefined)}\n        onComplete={() => setToWipe(undefined)}\n        requery={requery}\n      />\n    </>\n  );\n};\n\ninterface MoreActionsDropdownProps {\n  selected: Asset[];\n  clearSelection: () => void;\n  requery?: RefetchQueriesFunction;\n}\n\nconst MoreActionsDropdown = React.memo((props: MoreActionsDropdownProps) => {\n  const {selected, clearSelection, requery} = props;\n  const [showBulkWipeDialog, setShowBulkWipeDialog] = React.useState<boolean>(false);\n  const {\n    permissions: {canWipeAssets},\n  } = useUnscopedPermissions();\n\n  if (!canWipeAssets) {\n    return null;\n  }\n\n  const disabled = selected.length === 0;\n\n  return (\n    <>\n      <Popover\n        position=\"bottom-right\"\n        content={\n          <Menu>\n            <MenuItem\n              text=\"Wipe materializations\"\n              onClick={() => setShowBulkWipeDialog(true)}\n              icon={\n                <Icon name=\"delete\" color={disabled ? colorTextDisabled() : colorAccentRed()} />\n              }\n              disabled={disabled}\n              intent=\"danger\"\n            />\n          </Menu>\n        }\n      >\n        <Button icon={<Icon name=\"expand_more\" />} />\n      </Popover>\n      <AssetWipeDialog\n        assetKeys={selected.map((asset) => asset.key)}\n        isOpen={showBulkWipeDialog}\n        onClose={() => setShowBulkWipeDialog(false)}\n        onComplete={() => {\n          setShowBulkWipeDialog(false);\n          clearSelection();\n        }}\n        requery={requery}\n      />\n    </>\n  );\n});\n","import {NonIdealState} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nexport const AssetsEmptyState = ({prefixPath}: {prefixPath: string[]}) => (\n  <NonIdealState\n    icon=\"asset\"\n    title=\"Assets\"\n    description={\n      <p>\n        {prefixPath && prefixPath.length\n          ? `There are no matching materialized assets with the specified asset key. `\n          : `There are no known materialized assets. `}\n        Any asset keys that have been specified with an <code>AssetMaterialization</code> during a\n        pipeline run will appear here. See the{' '}\n        <a href=\"https://docs.dagster.io/_apidocs/ops#dagster.AssetMaterialization\">\n          AssetMaterialization documentation\n        </a>{' '}\n        for more information.\n      </p>\n    }\n  />\n);\n","import {useStateWithStorage} from '../hooks/useStateWithStorage';\n\nconst ASSET_VIEW_KEY = 'AssetViewPreference';\n\nexport type AssetViewType = 'flat' | 'directory';\n\nconst validateSavedAssetView = (storedValue: any) =>\n  storedValue === 'flat' || storedValue === 'directory' ? storedValue : 'flat';\n\nexport const useAssetView = () => {\n  return useStateWithStorage<AssetViewType>(ASSET_VIEW_KEY, validateSavedAssetView);\n};\n","import {gql, QueryResult, useQuery} from '@apollo/client';\nimport {Box, TextInput, ButtonGroup} from '@dagster-io/ui-components';\nimport isEqual from 'lodash/isEqual';\nimport * as React from 'react';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {FIFTEEN_SECONDS, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {PythonErrorFragment} from '../app/types/PythonErrorFragment.types';\nimport {AssetGroupSelector} from '../graphql/types';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {useStartTrace} from '../performance';\nimport {LoadingSpinner} from '../ui/Loading';\n\nimport {\n  AssetGroupSuggest,\n  buildAssetGroupSelector,\n  useAssetGroupSelectorsForAssets,\n} from './AssetGroupSuggest';\nimport {AssetTable} from './AssetTable';\nimport {ASSET_TABLE_DEFINITION_FRAGMENT, ASSET_TABLE_FRAGMENT} from './AssetTableFragment';\nimport {AssetsEmptyState} from './AssetsEmptyState';\nimport {AssetTableFragment} from './types/AssetTableFragment.types';\nimport {\n  AssetCatalogTableQuery,\n  AssetCatalogTableQueryVariables,\n  AssetCatalogGroupTableQuery,\n  AssetCatalogGroupTableNodeFragment,\n  AssetCatalogGroupTableQueryVariables,\n} from './types/AssetsCatalogTable.types';\nimport {useAssetSearch} from './useAssetSearch';\nimport {AssetViewType, useAssetView} from './useAssetView';\n\ntype Asset = AssetTableFragment;\n\nfunction useAllAssets(groupSelector?: AssetGroupSelector): {\n  query: QueryResult<AssetCatalogTableQuery, any> | QueryResult<AssetCatalogGroupTableQuery, any>;\n  assets: Asset[] | undefined;\n  error: PythonErrorFragment | undefined;\n} {\n  const assetsQuery = useQuery<AssetCatalogTableQuery, AssetCatalogTableQueryVariables>(\n    ASSET_CATALOG_TABLE_QUERY,\n    {\n      skip: !!groupSelector,\n      notifyOnNetworkStatusChange: true,\n    },\n  );\n  const groupQuery = useQuery<AssetCatalogGroupTableQuery, AssetCatalogGroupTableQueryVariables>(\n    ASSET_CATALOG_GROUP_TABLE_QUERY,\n    {\n      skip: !groupSelector,\n      variables: {group: groupSelector},\n      notifyOnNetworkStatusChange: true,\n    },\n  );\n\n  return React.useMemo(() => {\n    if (groupSelector) {\n      const assetNodes = groupQuery.data?.assetNodes;\n      return {\n        query: groupQuery,\n        error: undefined,\n        assets: assetNodes?.map(definitionToAssetTableFragment),\n      };\n    }\n\n    const assetsOrError = assetsQuery.data?.assetsOrError;\n    return {\n      query: assetsQuery,\n      error: assetsOrError?.__typename === 'PythonError' ? assetsOrError : undefined,\n      assets: assetsOrError?.__typename === 'AssetConnection' ? assetsOrError.nodes : undefined,\n    };\n  }, [assetsQuery, groupQuery, groupSelector]);\n}\n\ninterface AssetCatalogTableProps {\n  prefixPath: string[];\n  setPrefixPath: (prefixPath: string[]) => void;\n  groupSelector?: AssetGroupSelector;\n  trace?: ReturnType<typeof useStartTrace>;\n}\n\nexport const AssetsCatalogTable = ({\n  prefixPath,\n  setPrefixPath,\n  groupSelector,\n  trace,\n}: AssetCatalogTableProps) => {\n  const [view, setView] = useAssetView();\n  const [search, setSearch] = useQueryPersistedState<string | undefined>({queryKey: 'q'});\n  const [searchGroups, setSearchGroups] = useQueryPersistedState<AssetGroupSelector[]>({\n    queryKey: 'g',\n    decode: (qs) => (qs.groups ? JSON.parse(qs.groups) : []),\n    encode: (groups) => ({groups: groups.length ? JSON.stringify(groups) : undefined}),\n  });\n\n  const searchPath = (search || '')\n    .replace(/(( ?> ?)|\\.|\\/)/g, '/')\n    .toLowerCase()\n    .trim();\n\n  const {assets, query, error} = useAllAssets(groupSelector);\n  const assetGroupOptions = useAssetGroupSelectorsForAssets(assets);\n  const pathMatches = useAssetSearch(searchPath, assets || []);\n\n  const filtered = React.useMemo(\n    () =>\n      pathMatches.filter(\n        (a) =>\n          !searchGroups.length || searchGroups.some((g) => isEqual(buildAssetGroupSelector(a), g)),\n      ),\n    [pathMatches, searchGroups],\n  );\n\n  const {displayPathForAsset, displayed} =\n    view === 'flat'\n      ? buildFlatProps(filtered, prefixPath)\n      : buildNamespaceProps(filtered, prefixPath);\n\n  const refreshState = useQueryRefreshAtInterval(query, FIFTEEN_SECONDS);\n\n  const loaded = !!assets;\n  React.useEffect(() => {\n    if (loaded) {\n      trace?.endTrace();\n    }\n  }, [loaded, trace]);\n\n  React.useEffect(() => {\n    if (view !== 'directory' && prefixPath.length) {\n      setView('directory');\n    }\n  }, [view, setView, prefixPath]);\n\n  if (error) {\n    return <PythonErrorInfo error={error} />;\n  }\n\n  if (!assets) {\n    return <LoadingSpinner purpose=\"page\" />;\n  }\n\n  if (!assets.length) {\n    return (\n      <Box padding={{vertical: 64}}>\n        <AssetsEmptyState prefixPath={prefixPath} />\n      </Box>\n    );\n  }\n\n  return (\n    <AssetTable\n      view={view}\n      assets={displayed}\n      actionBarComponents={\n        <>\n          <ButtonGroup<AssetViewType>\n            activeItems={new Set([view])}\n            buttons={[\n              {id: 'flat', icon: 'view_list', tooltip: 'List view'},\n              {id: 'directory', icon: 'folder', tooltip: 'Folder view'},\n            ]}\n            onClick={(view) => {\n              setView(view);\n              if (view === 'flat' && prefixPath.length) {\n                setPrefixPath([]);\n              }\n            }}\n          />\n          <TextInput\n            value={search || ''}\n            style={{width: '30vw', minWidth: 150, maxWidth: 400}}\n            placeholder={\n              prefixPath.length\n                ? `Filter asset keys in ${prefixPath.join('/')}â€¦`\n                : `Filter asset keysâ€¦`\n            }\n            onChange={(e: React.ChangeEvent<any>) => setSearch(e.target.value)}\n          />\n          {!groupSelector ? (\n            <AssetGroupSuggest\n              assetGroups={assetGroupOptions}\n              value={searchGroups}\n              onChange={setSearchGroups}\n            />\n          ) : undefined}\n        </>\n      }\n      refreshState={refreshState}\n      prefixPath={prefixPath || []}\n      searchPath={searchPath}\n      searchGroups={searchGroups}\n      displayPathForAsset={displayPathForAsset}\n      requery={(_) => [{query: ASSET_CATALOG_TABLE_QUERY}]}\n    />\n  );\n};\n\nexport const ASSET_CATALOG_TABLE_QUERY = gql`\n  query AssetCatalogTableQuery {\n    assetsOrError {\n      ... on AssetConnection {\n        nodes {\n          id\n          ...AssetTableFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${ASSET_TABLE_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n\nexport const ASSET_CATALOG_GROUP_TABLE_QUERY = gql`\n  query AssetCatalogGroupTableQuery($group: AssetGroupSelector) {\n    assetNodes(group: $group) {\n      id\n      ...AssetCatalogGroupTableNode\n    }\n  }\n\n  fragment AssetCatalogGroupTableNode on AssetNode {\n    id\n    assetKey {\n      path\n    }\n    ...AssetTableDefinitionFragment\n  }\n\n  ${ASSET_TABLE_DEFINITION_FRAGMENT}\n`;\n\n// When we load the AssetCatalogTable for a particular asset group, we retrieve `assetNodes`,\n// not `assets`. To narrow the scope of this difference we coerce the nodes to look like\n// AssetCatalogTableQuery results.\nfunction definitionToAssetTableFragment(definition: AssetCatalogGroupTableNodeFragment): Asset {\n  return {__typename: 'Asset', id: definition.id, key: definition.assetKey, definition};\n}\n\nfunction buildFlatProps(assets: Asset[], _: string[]) {\n  return {\n    displayed: assets,\n    displayPathForAsset: (asset: Asset) => asset.key.path,\n  };\n}\n\nfunction buildNamespaceProps(assets: Asset[], prefixPath: string[]) {\n  // Return all assets from the next PAGE_SIZE namespaces - the AssetTable component will later\n  // group them by namespace\n\n  const namespaceForAsset = (asset: Asset) => {\n    return asset.key.path.slice(prefixPath.length, prefixPath.length + 1);\n  };\n\n  // Only consider assets that start with the prefix path\n  const assetsWithPathPrefix = assets.filter((asset) =>\n    asset.key.path.join(',').startsWith(prefixPath.join(',')),\n  );\n\n  const namespaces = Array.from(\n    new Set(assetsWithPathPrefix.map((asset) => JSON.stringify(namespaceForAsset(asset)))),\n  )\n    .map((x) => JSON.parse(x))\n    .sort();\n\n  return {\n    displayPathForAsset: namespaceForAsset,\n    displayed: filterAssetsByNamespace(\n      assetsWithPathPrefix,\n      namespaces.map((ns) => [...prefixPath, ...ns]),\n    ),\n  };\n}\n\nconst filterAssetsByNamespace = (assets: Asset[], paths: string[][]) => {\n  return assets.filter((asset) =>\n    paths.some((path) => path.every((part, i) => part === asset.key.path[i])),\n  );\n};\n","import {gql, useQuery} from '@apollo/client';\n\nimport {\n  AutomationPolicySensorFlagQuery,\n  AutomationPolicySensorFlagQueryVariables,\n} from './types/AutomationPolicySensorFlag.types';\n\ntype FlagState = 'unknown' | 'has-sensor-amp' | 'has-global-amp';\n\nexport const useAutomationPolicySensorFlag = (): FlagState => {\n  const {data} = useQuery<\n    AutomationPolicySensorFlagQuery,\n    AutomationPolicySensorFlagQueryVariables\n  >(AUTOMATION_POLICY_SENSOR_FLAG);\n  if (!data) {\n    return 'unknown';\n  }\n  return data?.instance.useAutomationPolicySensors ? 'has-sensor-amp' : 'has-global-amp';\n};\n\nconst AUTOMATION_POLICY_SENSOR_FLAG = gql`\n  query AutomationPolicySensorFlag {\n    instance {\n      id\n      useAutomationPolicySensors\n    }\n  }\n`;\n","import * as React from 'react';\n\nimport {tokenForAssetKey} from '../asset-graph/Utils';\n\nconst useSanitizedAssetSearch = (searchValue: string) => {\n  return React.useMemo(() => {\n    return (searchValue || '')\n      .replace(/(( ?> ?)|\\.|\\/)/g, '/')\n      .toLowerCase()\n      .trim();\n  }, [searchValue]);\n};\n\nexport const useAssetSearch = <A extends {key: {path: string[]}}>(\n  searchValue: string,\n  assets: A[],\n): A[] => {\n  const sanitizedSearch = useSanitizedAssetSearch(searchValue);\n  return React.useMemo(() => {\n    // If there is no search value, match everything.\n    if (!sanitizedSearch) {\n      return assets;\n    }\n    return assets.filter((a) => tokenForAssetKey(a.key).toLowerCase().includes(sanitizedSearch));\n  }, [assets, sanitizedSearch]);\n};\n\nexport const useAssetNodeSearch = <A extends {assetKey: {path: string[]}}>(\n  searchValue: string,\n  assetNodes: A[],\n): A[] => {\n  const sanitizedSearch = useSanitizedAssetSearch(searchValue);\n\n  return React.useMemo(() => {\n    // If there is no search value, match everything.\n    if (!sanitizedSearch) {\n      return assetNodes;\n    }\n    return assetNodes.filter((a) =>\n      tokenForAssetKey(a.assetKey).toLowerCase().includes(sanitizedSearch),\n    );\n  }, [assetNodes, sanitizedSearch]);\n};\n","import {\n  Box,\n  Icon,\n  IconWrapper,\n  MiddleTruncate,\n  Spinner,\n  Tooltip,\n  colorAccentBlue,\n  colorAccentGray,\n  colorAccentGrayHover,\n} from '@dagster-io/ui-components';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\nimport {\n  NO_RELOAD_PERMISSION_TEXT,\n  ReloadRepositoryLocationButton,\n} from './ReloadRepositoryLocationButton';\n\nexport const RepositoryLink = ({\n  repoAddress,\n  showIcon = false,\n  showRefresh = true,\n}: {\n  repoAddress: RepoAddress;\n  showIcon?: boolean;\n  showRefresh?: boolean;\n}) => {\n  const {location} = repoAddress;\n  const repoString = repoAddressAsHumanString(repoAddress);\n\n  return (\n    <Box flex={{display: 'inline-flex', direction: 'row', alignItems: 'center'}} title={repoString}>\n      {showIcon && <Icon name=\"folder\" style={{marginRight: 8}} color={colorAccentGray()} />}\n      <RepositoryName to={workspacePathFromAddress(repoAddress)} style={{flex: 1}}>\n        <MiddleTruncate text={repoString} />\n      </RepositoryName>\n      {showRefresh ? (\n        <ReloadRepositoryLocationButton\n          location={location}\n          ChildComponent={({codeLocation, tryReload, reloading, hasReloadPermission}) => {\n            const tooltipContent = () => {\n              if (!hasReloadPermission) {\n                return NO_RELOAD_PERMISSION_TEXT;\n              }\n\n              return reloading ? (\n                'Reloadingâ€¦'\n              ) : (\n                <>\n                  Reload location <strong>{codeLocation}</strong>\n                </>\n              );\n            };\n\n            return (\n              <ReloadTooltip content={tooltipContent()}>\n                {reloading ? (\n                  <Spinner purpose=\"body-text\" />\n                ) : (\n                  <StyledButton disabled={!hasReloadPermission} onClick={tryReload}>\n                    <Icon\n                      name=\"refresh\"\n                      color={hasReloadPermission ? colorAccentGray() : colorAccentGrayHover()}\n                    />\n                  </StyledButton>\n                )}\n              </ReloadTooltip>\n            );\n          }}\n        />\n      ) : null}\n    </Box>\n  );\n};\n\nexport const RepositoryName = styled(Link)`\n  max-width: 280px;\n`;\n\nconst ReloadTooltip = styled(Tooltip)`\n  margin-left: 4px;\n\n  && {\n    display: block;\n  }\n`;\n\nconst StyledButton = styled.button`\n  background-color: transparent;\n  border: 0;\n  cursor: pointer;\n  display: block;\n  padding: 0;\n  margin: 0;\n\n  :disabled {\n    cursor: default;\n  }\n\n  :focus:not(:focus-visible) {\n    outline: none;\n  }\n\n  & ${IconWrapper} {\n    display: block;\n    transition: color 100ms linear;\n  }\n\n  :hover ${IconWrapper} {\n    color: ${colorAccentBlue()};\n  }\n`;\n","import {\n  Box,\n  ButtonLink,\n  Tag,\n  Tooltip,\n  FontFamily,\n  MiddleTruncate,\n  colorLinkDefault,\n} from '@dagster-io/ui-components';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {ScheduleSwitch} from '../schedules/ScheduleSwitch';\nimport {humanCronString} from '../schedules/humanCronString';\nimport {ScheduleSwitchFragment} from '../schedules/types/ScheduleSwitch.types';\nimport {SensorSwitch} from '../sensors/SensorSwitch';\nimport {SensorSwitchFragment} from '../sensors/types/SensorSwitch.types';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\nimport {ScheduleAndSensorDialog} from './ScheduleAndSensorDialog';\n\nexport const ScheduleOrSensorTag = ({\n  repoAddress,\n  schedules = [],\n  sensors = [],\n  showSwitch = true,\n}: {\n  repoAddress: RepoAddress;\n  schedules?: ScheduleSwitchFragment[];\n  sensors?: SensorSwitchFragment[];\n  showSwitch?: boolean;\n}) => {\n  const [open, setOpen] = React.useState(false);\n\n  const scheduleCount = schedules.length;\n  const sensorCount = sensors.length;\n\n  if (scheduleCount > 1 || sensorCount > 1 || (scheduleCount && sensorCount)) {\n    const buttonText =\n      scheduleCount && sensorCount\n        ? `${scheduleCount + sensorCount} schedules/sensors`\n        : scheduleCount\n        ? `${scheduleCount} schedules`\n        : `${sensorCount} sensors`;\n\n    const icon = scheduleCount > 1 ? 'schedule' : 'sensors';\n\n    return (\n      <>\n        <Tag icon={icon}>\n          <ButtonLink onClick={() => setOpen(true)} color={colorLinkDefault()}>\n            {buttonText}\n          </ButtonLink>\n        </Tag>\n        <ScheduleAndSensorDialog\n          isOpen={open}\n          onClose={() => setOpen(false)}\n          repoAddress={repoAddress}\n          schedules={schedules}\n          sensors={sensors}\n          showSwitch={showSwitch}\n        />\n      </>\n    );\n  }\n\n  if (scheduleCount) {\n    return (\n      <MatchingSchedule\n        schedule={schedules[0]!}\n        repoAddress={repoAddress}\n        showSwitch={showSwitch}\n      />\n    );\n  }\n\n  if (sensorCount) {\n    return (\n      <MatchingSensor sensor={sensors[0]!} repoAddress={repoAddress} showSwitch={showSwitch} />\n    );\n  }\n\n  return <div style={{display: 'none'}}>No schedules or sensors</div>;\n};\n\nconst MatchingSchedule = ({\n  schedule,\n  repoAddress,\n  showSwitch,\n}: {\n  schedule: ScheduleSwitchFragment;\n  repoAddress: RepoAddress;\n  showSwitch: boolean;\n}) => {\n  const {cronSchedule, executionTimezone, scheduleState} = schedule;\n  const running = scheduleState.status === 'RUNNING';\n  const tag = (\n    <Tag intent={running ? 'primary' : 'none'} icon=\"schedule\">\n      <Box flex={{direction: 'row', alignItems: 'center', gap: 4}}>\n        <Link\n          to={workspacePathFromAddress(repoAddress, `/schedules/${schedule.name}`)}\n          style={{overflow: 'hidden', textOverflow: 'ellipsis'}}\n        >\n          {humanCronString(cronSchedule, executionTimezone || 'UTC')}\n        </Link>\n        {showSwitch ? (\n          <ScheduleSwitch size=\"small\" repoAddress={repoAddress} schedule={schedule} />\n        ) : null}\n      </Box>\n    </Tag>\n  );\n\n  return schedule.cronSchedule ? (\n    <Tooltip\n      placement=\"top-start\"\n      content={\n        <Box flex={{direction: 'column', gap: 4}}>\n          <div>\n            Name: <strong>{schedule.name}</strong>\n          </div>\n          <div>\n            Cron:{' '}\n            <span style={{fontFamily: FontFamily.monospace, marginLeft: '4px'}}>\n              ({schedule.cronSchedule})\n            </span>\n          </div>\n          <div>\n            Timezone: <strong>{schedule.executionTimezone || 'UTC'}</strong>\n          </div>\n        </Box>\n      }\n    >\n      {tag}\n    </Tooltip>\n  ) : (\n    tag\n  );\n};\n\nconst MatchingSensor = ({\n  sensor,\n  repoAddress,\n  showSwitch,\n}: {\n  sensor: SensorSwitchFragment;\n  repoAddress: RepoAddress;\n  showSwitch: boolean;\n}) => {\n  const running = sensor.sensorState.status === 'RUNNING';\n  return (\n    <Tag intent={running ? 'primary' : 'none'} icon=\"sensors\">\n      <Box flex={{direction: 'row', alignItems: 'center', gap: 4}}>\n        <Link\n          to={workspacePathFromAddress(repoAddress, `/sensors/${sensor.name}`)}\n          style={{maxWidth: 200, overflow: 'hidden'}}\n        >\n          <MiddleTruncate text={sensor.name} />\n        </Link>\n        {showSwitch ? (\n          <SensorSwitch size=\"small\" repoAddress={repoAddress} sensor={sensor} />\n        ) : null}\n      </Box>\n    </Tag>\n  );\n};\n","import {useQuery} from '@apollo/client';\nimport {CursorPaginationProps} from '@dagster-io/ui-components';\nimport {DocumentNode} from 'graphql';\nimport * as React from 'react';\n\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\n\ninterface CursorPaginationQueryVariables {\n  cursor?: string | null;\n  limit?: number | null;\n}\n\n/**\n * This is a React hook that makes it easier to build paginated list views based on a GraphQL\n * query. It is intended to be used in place of Apollo's `useQuery` and assumes that the query\n * takes at least `cursor` and `limit` variables. It manages those two variables internally,\n * and you can pass additional variables via the options.\n *\n * The current pagination \"cursor\" is saved to the URL query string, which allows the user to\n * navigate \"back\" in their browser history to move to previous pages.\n *\n * The returned paginationProps expose methods for moving to the next / previous page and are\n * used by <CursorPaginationControls /> to render the pagination buttons.\n */\nexport function useCursorPaginatedQuery<T, TVars extends CursorPaginationQueryVariables>(options: {\n  query: DocumentNode;\n  nextCursorForResult: (result: T) => string | undefined;\n  skip?: boolean;\n  variables: Omit<TVars, 'cursor' | 'limit'>;\n  pageSize: number;\n  getResultArray: (result: T | undefined) => any[];\n}) {\n  const [cursorStack, setCursorStack] = React.useState<string[]>(() => []);\n  const [cursor, setCursor] = useQueryPersistedState<string | undefined>({queryKey: 'cursor'});\n\n  const queryVars: any = {\n    ...options.variables,\n    cursor,\n    limit: options.pageSize + 1,\n  };\n\n  const queryResult = useQuery<T, TVars>(options.query, {\n    skip: options.skip,\n    variables: queryVars,\n    notifyOnNetworkStatusChange: true,\n  });\n\n  const resultArray = options.getResultArray(queryResult.data);\n  const paginationProps: CursorPaginationProps = {\n    hasPrevCursor: !!cursor,\n    hasNextCursor: resultArray.length === options.pageSize + 1,\n    popCursor: () => {\n      const nextStack = [...cursorStack];\n      setCursor(nextStack.pop());\n      setCursorStack(nextStack);\n    },\n    advanceCursor: () => {\n      if (cursor) {\n        setCursorStack((current) => [...current, cursor]);\n      }\n      const nextCursor = queryResult.data && options.nextCursorForResult(queryResult.data);\n      if (!nextCursor) {\n        return;\n      }\n      setCursor(nextCursor);\n    },\n    reset: () => {\n      setCursorStack([]);\n      setCursor(undefined);\n    },\n  };\n\n  return {queryResult, paginationProps};\n}\n","import {Button, Icon, Menu, MenuItem, Popover, Spinner, Tooltip} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nimport {usePermissionsForLocation} from '../app/Permissions';\nimport {AssetKeyInput} from '../graphql/types';\nimport {MenuLink} from '../ui/MenuLink';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\nimport {\n  executionDisabledMessageForAssets,\n  useMaterializationAction,\n} from './LaunchAssetExecutionButton';\nimport {assetDetailsPathForKey} from './assetDetailsPathForKey';\nimport {AssetTableDefinitionFragment} from './types/AssetTableFragment.types';\n\ninterface Props {\n  path: string[];\n  definition: AssetTableDefinitionFragment | null;\n  repoAddress: RepoAddress | null;\n  onWipe?: (assets: AssetKeyInput[]) => void;\n}\n\nexport const AssetActionMenu = (props: Props) => {\n  const {repoAddress, path, definition, onWipe} = props;\n  const {\n    permissions: {canWipeAssets},\n  } = usePermissionsForLocation(repoAddress?.location);\n\n  const {onClick, loading, launchpadElement} = useMaterializationAction();\n  const disabledMessage = definition\n    ? executionDisabledMessageForAssets([definition])\n    : 'Asset definition not found in a code location';\n\n  return (\n    <>\n      <Popover\n        position=\"bottom-right\"\n        content={\n          <Menu>\n            <Tooltip\n              content={disabledMessage || 'Shift+click to add configuration'}\n              placement=\"left\"\n              display=\"block\"\n              useDisabledButtonTooltipFix\n            >\n              <MenuItem\n                text=\"Materialize\"\n                icon={loading ? <Spinner purpose=\"body-text\" /> : 'materialization'}\n                disabled={!!disabledMessage || loading}\n                onClick={(e) => onClick([{path}], e)}\n              />\n            </Tooltip>\n            <MenuLink\n              text=\"Show in group\"\n              to={\n                repoAddress && definition?.groupName\n                  ? workspacePathFromAddress(repoAddress, `/asset-groups/${definition.groupName}`)\n                  : ''\n              }\n              disabled={!definition}\n              icon=\"asset_group\"\n            />\n            <MenuLink\n              text=\"View neighbors\"\n              to={assetDetailsPathForKey({path}, {view: 'lineage', lineageScope: 'neighbors'})}\n              disabled={!definition}\n              icon=\"graph_neighbors\"\n            />\n            <MenuLink\n              text=\"View upstream assets\"\n              to={assetDetailsPathForKey({path}, {view: 'lineage', lineageScope: 'upstream'})}\n              disabled={!definition}\n              icon=\"graph_upstream\"\n            />\n            <MenuLink\n              text=\"View downstream assets\"\n              to={assetDetailsPathForKey({path}, {view: 'lineage', lineageScope: 'downstream'})}\n              disabled={!definition}\n              icon=\"graph_downstream\"\n            />\n            <MenuItem\n              text=\"Wipe materializations\"\n              icon=\"delete\"\n              disabled={!onWipe || !canWipeAssets}\n              intent=\"danger\"\n              onClick={() => canWipeAssets && onWipe && onWipe([{path}])}\n            />\n          </Menu>\n        }\n      >\n        <Button icon={<Icon name=\"expand_more\" />} />\n      </Popover>\n      {launchpadElement}\n    </>\n  );\n};\n","import {gql, useQuery} from '@apollo/client';\nimport {\n  Box,\n  Caption,\n  Checkbox,\n  Icon,\n  colorAccentGray,\n  colorBackgroundDefault,\n  colorTextLight,\n} from '@dagster-io/ui-components';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport {useAssetsLiveData} from '../asset-data/AssetLiveDataProvider';\nimport {buildAssetNodeStatusContent} from '../asset-graph/AssetNodeStatusContent';\nimport {AssetRunLink} from '../asset-graph/AssetRunLinking';\nimport {MISSING_LIVE_DATA, tokenForAssetKey} from '../asset-graph/Utils';\nimport {AssetActionMenu} from '../assets/AssetActionMenu';\nimport {AssetLink} from '../assets/AssetLink';\nimport {PartitionCountLabels, partitionCountString} from '../assets/AssetNodePartitionCounts';\nimport {StaleReasonsLabel} from '../assets/Stale';\nimport {assetDetailsPathForKey} from '../assets/assetDetailsPathForKey';\nimport {AssetTableDefinitionFragment} from '../assets/types/AssetTableFragment.types';\nimport {AssetViewType} from '../assets/useAssetView';\nimport {AssetComputeKindTag} from '../graph/OpTags';\nimport {AssetKeyInput} from '../graphql/types';\nimport {RepositoryLink} from '../nav/RepositoryLink';\nimport {TimestampDisplay} from '../schedules/TimestampDisplay';\nimport {testId} from '../testing/testId';\nimport {HeaderCell, Row, RowCell} from '../ui/VirtualizedTable';\n\nimport {RepoAddress} from './types';\nimport {\n  SingleNonSdaAssetQuery,\n  SingleNonSdaAssetQueryVariables,\n} from './types/VirtualizedAssetRow.types';\nimport {workspacePathFromAddress} from './workspacePath';\n\nconst TEMPLATE_COLUMNS = '1.3fr 1fr 80px';\nconst TEMPLATE_COLUMNS_FOR_CATALOG = '76px 1.3fr 1.3fr 1.3fr 80px';\n\ninterface AssetRowProps {\n  path: string[];\n  definition: AssetTableDefinitionFragment | null;\n\n  checked: boolean;\n  type: 'folder' | 'asset' | 'asset_non_sda';\n  view?: AssetViewType;\n  onToggleChecked: (values: {checked: boolean; shiftKey: boolean}) => void;\n  showCheckboxColumn: boolean;\n  showRepoColumn: boolean;\n  repoAddress: RepoAddress | null;\n  height: number;\n  start: number;\n  onWipe: (assets: AssetKeyInput[]) => void;\n}\n\nexport const VirtualizedAssetRow = (props: AssetRowProps) => {\n  const {\n    path,\n    definition,\n    type,\n    repoAddress,\n    start,\n    height,\n    checked,\n    onToggleChecked,\n    onWipe,\n    showCheckboxColumn = false,\n    showRepoColumn,\n    view = 'flat',\n  } = props;\n\n  const liveData = useLiveDataOrLatestMaterializationDebounced(path, type);\n  const linkUrl = assetDetailsPathForKey({path});\n\n  const onChange = (e: React.FormEvent<HTMLInputElement>) => {\n    if (onToggleChecked && e.target instanceof HTMLInputElement) {\n      const {checked} = e.target;\n      const shiftKey =\n        e.nativeEvent instanceof MouseEvent && e.nativeEvent.getModifierState('Shift');\n      onToggleChecked({checked, shiftKey});\n    }\n  };\n\n  return (\n    <Row $height={height} $start={start} data-testid={testId(`row-${tokenForAssetKey({path})}`)}>\n      <RowGrid border=\"bottom\" $showRepoColumn={showRepoColumn}>\n        {showCheckboxColumn ? (\n          <RowCell>\n            <Checkbox checked={checked} onChange={onChange} />\n          </RowCell>\n        ) : null}\n        <RowCell>\n          <Box flex={{alignItems: 'center'}}>\n            <div style={{flex: 1, minWidth: 0}}>\n              <AssetLink\n                path={type === 'folder' || view === 'directory' ? path.slice(-1) : path}\n                url={linkUrl}\n                isGroup={type === 'folder'}\n                icon={type}\n                textStyle=\"middle-truncate\"\n              />\n            </div>\n            {definition && (\n              <AssetComputeKindTag\n                reduceColor\n                reduceText\n                definition={definition}\n                style={{position: 'relative'}}\n              />\n            )}\n          </Box>\n          <div\n            style={{\n              maxWidth: '100%',\n              overflow: 'hidden',\n              textOverflow: 'ellipsis',\n            }}\n          >\n            <Caption style={{color: colorTextLight(), whiteSpace: 'nowrap'}}>\n              {definition?.description}\n            </Caption>\n          </div>\n        </RowCell>\n        {showRepoColumn ? (\n          <RowCell>\n            {repoAddress ? (\n              <Box\n                flex={{direction: 'column', gap: 4}}\n                style={{maxWidth: '100%', overflow: 'hidden'}}\n              >\n                <RepositoryLink repoAddress={repoAddress} showIcon showRefresh={false} />\n                {definition && definition.groupName ? (\n                  <Link\n                    to={workspacePathFromAddress(\n                      repoAddress,\n                      `/asset-groups/${definition.groupName}`,\n                    )}\n                  >\n                    <Box flex={{direction: 'row', gap: 8, alignItems: 'center'}}>\n                      <Icon color={colorAccentGray()} name=\"asset_group\" />\n                      {definition.groupName}\n                    </Box>\n                  </Link>\n                ) : null}\n              </Box>\n            ) : (\n              <span>{'\\u2013'}</span>\n            )}\n          </RowCell>\n        ) : null}\n        <RowCell>\n          {definition?.partitionDefinition ? (\n            <Box flex={{direction: 'column', alignItems: 'flex-start', gap: 4}}>\n              <PartitionCountLabels partitionStats={liveData?.partitionStats} />\n              <Caption>{partitionCountString(liveData?.partitionStats?.numPartitions)}</Caption>\n            </Box>\n          ) : (\n            <Box flex={{direction: 'column', alignItems: 'flex-start', gap: 4}}>\n              {definition ? (\n                <Box\n                  style={{whiteSpace: 'nowrap'}}\n                  flex={{direction: 'row', alignItems: 'center', gap: 8}}\n                >\n                  {\n                    buildAssetNodeStatusContent({\n                      assetKey: {path},\n                      definition,\n                      expanded: true,\n                      liveData,\n                    }).content\n                  }\n                </Box>\n              ) : liveData?.lastMaterialization ? (\n                <AssetRunLink\n                  assetKey={{path}}\n                  runId={liveData.lastMaterialization.runId}\n                  event={{\n                    stepKey: liveData.stepKey,\n                    timestamp: liveData.lastMaterialization.timestamp,\n                  }}\n                >\n                  <TimestampDisplay\n                    timestamp={Number(liveData.lastMaterialization.timestamp) / 1000}\n                    timeFormat={{showSeconds: false, showTimezone: false}}\n                  />\n                </AssetRunLink>\n              ) : (\n                <div style={{color: colorTextLight()}}>\n                  {!liveData && type !== 'folder' ? 'Loading' : '\\u2013'}\n                </div>\n              )}\n              {liveData && (\n                <StaleReasonsLabel assetKey={{path}} liveData={liveData} include=\"all\" />\n              )}\n            </Box>\n          )}\n        </RowCell>\n        <RowCell>\n          {type !== 'folder' ? (\n            <AssetActionMenu\n              path={path}\n              definition={definition}\n              repoAddress={repoAddress}\n              onWipe={onWipe}\n            />\n          ) : null}\n        </RowCell>\n      </RowGrid>\n    </Row>\n  );\n};\n\nexport const VirtualizedAssetCatalogHeader = ({\n  headerCheckbox,\n  view,\n}: {\n  headerCheckbox: React.ReactNode;\n  view: AssetViewType;\n}) => {\n  return (\n    <Box\n      background={colorBackgroundDefault()}\n      border=\"top-and-bottom\"\n      style={{\n        display: 'grid',\n        gridTemplateColumns: TEMPLATE_COLUMNS_FOR_CATALOG,\n        height: '32px',\n        fontSize: '12px',\n        color: colorTextLight(),\n        position: 'sticky',\n        top: 0,\n        zIndex: 1,\n      }}\n    >\n      <HeaderCell>{headerCheckbox}</HeaderCell>\n      <HeaderCell>{view === 'flat' ? 'Asset name' : 'Asset key prefix'}</HeaderCell>\n      <HeaderCell>Code location / Asset group</HeaderCell>\n      <HeaderCell>Status</HeaderCell>\n      <HeaderCell></HeaderCell>\n    </Box>\n  );\n};\n\nexport const VirtualizedAssetHeader = ({nameLabel}: {nameLabel: React.ReactNode}) => {\n  return (\n    <Box\n      border=\"top-and-bottom\"\n      style={{\n        display: 'grid',\n        gridTemplateColumns: TEMPLATE_COLUMNS,\n        height: '32px',\n        fontSize: '12px',\n        color: colorTextLight(),\n      }}\n    >\n      <HeaderCell>{nameLabel}</HeaderCell>\n      <HeaderCell>Status</HeaderCell>\n      <HeaderCell></HeaderCell>\n    </Box>\n  );\n};\n\nconst RowGrid = styled(Box)<{$showRepoColumn: boolean}>`\n  display: grid;\n  grid-template-columns: ${({$showRepoColumn}) =>\n    $showRepoColumn ? TEMPLATE_COLUMNS_FOR_CATALOG : TEMPLATE_COLUMNS};\n  height: 100%;\n`;\n\nconst LIVE_QUERY_DELAY = 250;\n\n/**\n * This hook maps through to `AssetLiveDataProvider` for the `asset` case and a per-row\n * query for the latest materialization for the `asset_non_sda` case.\n *\n * It uses internal state and `skip` to implement a debounce that prevents a ton of queries\n * as the user scans past rows. (The best way to skip the AssetLiveDataProvider work is\n * to pass it an empty array of asset keys.)\n */\nexport function useLiveDataOrLatestMaterializationDebounced(\n  path: string[],\n  type: 'folder' | 'asset' | 'asset_non_sda',\n) {\n  const [debouncedKeys, setDebouncedKeys] = React.useState<AssetKeyInput[]>([]);\n  const debouncedKey = (debouncedKeys[0] || '') as AssetKeyInput;\n\n  const {liveDataByNode} = useAssetsLiveData(type === 'asset' ? debouncedKeys : []);\n\n  const {data: nonSDAData} = useQuery<SingleNonSdaAssetQuery, SingleNonSdaAssetQueryVariables>(\n    SINGLE_NON_SDA_ASSET_QUERY,\n    {\n      skip: type !== 'asset_non_sda' || !debouncedKey,\n      variables: {input: debouncedKey},\n    },\n  );\n\n  React.useEffect(() => {\n    if (type === 'folder') {\n      return;\n    }\n    const timer = setTimeout(() => {\n      setDebouncedKeys(path ? [{path}] : []);\n    }, LIVE_QUERY_DELAY);\n    return () => clearTimeout(timer);\n  }, [type, path]);\n\n  if (type === 'asset') {\n    return liveDataByNode[tokenForAssetKey({path})]!;\n  }\n\n  if (type === 'asset_non_sda') {\n    return {\n      ...MISSING_LIVE_DATA,\n      lastMaterialization:\n        nonSDAData?.assetOrError.__typename === 'Asset' &&\n        nonSDAData.assetOrError.assetMaterializations[0]\n          ? nonSDAData.assetOrError.assetMaterializations[0]\n          : null,\n    };\n  }\n\n  return null;\n}\n\nexport const SINGLE_NON_SDA_ASSET_QUERY = gql`\n  query SingleNonSDAAssetQuery($input: AssetKeyInput!) {\n    assetOrError(assetKey: $input) {\n      ... on Asset {\n        id\n        assetMaterializations(limit: 1) {\n          runId\n          timestamp\n        }\n      }\n    }\n  }\n`;\n"],"names":["useAssetGroupSelectorsForAssets","assets","React","uniqBy","map","buildAssetGroupSelector","filter","a","JSON","stringify","sort","b","groupName","localeCompare","FAKE_SELECTED_ITEM","repositoryLocationName","repositoryName","AssetGroupSuggest","param","assetGroups","value","onChange","repoKey","g","concat","repoKey1","repoContextNeeded","every","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsx","Suggest","selectedItem","length","items","menuWidth","inputProps","style","width","placeholder","rightElement","ClearButton","onClick","marginTop","marginRight","Icon","name","undefined","inputValueRenderer","itemPredicate","query","partition","toLowerCase","includes","itemsEqual","isEqual","itemRenderer","assetGroup","props","MenuItem","active","modifiers","handleClick","text","jsxs","Box","flex","direction","gap","alignItems","margin","left","maxWidth","Checkbox","checked","some","size","readOnly","grow","shrink","overflow","div","span","opacity","paddingLeft","buildRepoPathForHuman","noResults","disabled","closeOnSelect","resetOnQuery","onItemSelect","item","nextValue","push","definition","repository","location","ASSET_TABLE_DEFINITION_FRAGMENT","gql","ASSET_TABLE_FRAGMENT","VirtualizedAssetTable","headerCheckbox","prefixPath","groups","checkedDisplayKeys","onToggleFactory","onWipe","showRepoColumn","view","_props_view","parentRef","count","Object","keys","rowVirtualizer","useVirtualizer","getScrollElement","current","estimateSize","overscan","totalHeight","getTotalSize","getVirtualItems","rows","entries","displayKey","path","_to_consumable_array","_","parse","isFolder","join","key","type","asset","jsx_runtime","Container","ref","VirtualizedAssetCatalogHeader","Inner","$totalHeight","index","start","row","wipeableAssets","VirtualizedAssetRow","repoAddress","buildRepoAddress","showCheckboxColumn","height","has","onToggleChecked","AssetWipeDialog","assetKeys","isOpen","onClose","onComplete","requery","requestWipe","useMutation","ASSET_WIPE_MUTATION","variables","asAssetKeyInput","refetchQueries","wipe","_async_to_generator","_state","sent","Dialog","title","DialogBody","Group","spacing","ul","assetKey","displayNameForAssetKey","li","marginBottom","strong","DialogFooter","topBorder","Button","intent","PYTHON_ERROR_FRAGMENT","AssetTable","actionBarComponents","refreshState","displayPathForAsset","searchPath","searchGroups","toWipe","setToWipe","groupedByDisplayKey","groupBy","displayKeys","useSelectionReducer","checkedIds","onToggleAll","checkedAssets","forEach","Fragment","background","colorBackgroundDefault","padding","vertical","right","position","top","zIndex","QueryRefreshCountdown","c","Tooltip","content","data-testid","testId","icon","toLocaleString","LaunchAssetExecutionButton","scope","selected","_object_spread_props","_object_spread","MoreActionsDropdown","clearSelection","NonIdealState","description","indeterminate","e","target","HTMLInputElement","showBulkWipeDialog","setShowBulkWipeDialog","useUnscopedPermissions","permissions","canWipeAssets","Popover","Menu","color","colorTextDisabled","colorAccentRed","AssetsEmptyState","p","code","href","validateSavedAssetView","storedValue","AssetsCatalogTable","namespaceForAsset","assetsWithPathPrefix","namespaces","assetsQuery","groupQuery","setPrefixPath","groupSelector","trace","useAssetView","useStateWithStorage","setView","useQueryPersistedState","queryKey","search","setSearch","decode","qs","encode","setSearchGroups","replace","trim","useAllAssets","useQuery","ASSET_CATALOG_TABLE_QUERY","skip","notifyOnNetworkStatusChange","ASSET_CATALOG_GROUP_TABLE_QUERY","group","assetNodes","data","error","definitionToAssetTableFragment","assetsOrError","__typename","nodes","assetGroupOptions","pathMatches","useAssetSearch","filtered","displayed","slice","startsWith","Array","from","Set","x","filterAssetsByNamespace","ns","useQueryRefreshAtInterval","FIFTEEN_SECONDS","loaded","endTrace","PythonErrorInfo","ButtonGroup","activeItems","buttons","id","tooltip","TextInput","minWidth","LoadingSpinner","purpose","paths","part","i","useAutomationPolicySensorFlag","AUTOMATION_POLICY_SENSOR_FLAG","instance","useAutomationPolicySensors","useSanitizedAssetSearch","searchValue","sanitizedSearch","tokenForAssetKey","useAssetNodeSearch","RepositoryLink","showIcon","_param_showRefresh","showRefresh","repoString","repoAddressAsHumanString","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__","display","_param_showIcon","colorAccentGray","RepositoryName","to","workspacePathFromAddress","MiddleTruncate","ReloadRepositoryLocationButton","ChildComponent","codeLocation","tryReload","reloading","hasReloadPermission","ReloadTooltip","NO_RELOAD_PERMISSION_TEXT","Spinner","StyledButton","colorAccentGrayHover","styled","Link","button","withConfig","IconWrapper","colorAccentBlue","ScheduleOrSensorTag","schedules","_param_schedules","_param_sensors","sensors","_param_showSwitch","showSwitch","open","setOpen","scheduleCount","sensorCount","Tag","ButtonLink","colorLinkDefault","ScheduleAndSensorDialog","MatchingSchedule","schedule","MatchingSensor","sensor","cronSchedule","executionTimezone","running","scheduleState","status","tag","textOverflow","humanCronString","ScheduleSwitch","placement","fontFamily","FontFamily","monospace","marginLeft","sensorState","SensorSwitch","useCursorPaginatedQuery","options","cursorStack","setCursorStack","cursor","setCursor","queryVars","_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_3__","_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_4__","limit","pageSize","queryResult","paginationProps","hasPrevCursor","hasNextCursor","resultArray","getResultArray","popCursor","nextStack","_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_6__","pop","advanceCursor","nextCursor","nextCursorForResult","reset","AssetActionMenu","usePermissionsForLocation","useMaterializationAction","loading","launchpadElement","disabledMessage","executionDisabledMessageForAssets","useDisabledButtonTooltipFix","MenuLink","assetDetailsPathForKey","lineageScope","TEMPLATE_COLUMNS","TEMPLATE_COLUMNS_FOR_CATALOG","debouncedKeys","setDebouncedKeys","debouncedKey","liveDataByNode","liveData","useAssetsLiveData","SINGLE_NON_SDA_ASSET_QUERY","input","timer","setTimeout","clearTimeout","MISSING_LIVE_DATA","lastMaterialization","nonSDAData","assetOrError","assetMaterializations","linkUrl","Row","$height","$start","RowGrid","border","$showRepoColumn","_props_showCheckboxColumn","RowCell","shiftKey","nativeEvent","MouseEvent","getModifierState","AssetLink","url","isGroup","textStyle","AssetComputeKindTag","reduceColor","reduceText","Caption","colorTextLight","whiteSpace","partitionDefinition","PartitionCountLabels","partitionStats","partitionCountString","numPartitions","buildAssetNodeStatusContent","expanded","AssetRunLink","runId","event","stepKey","timestamp","TimestampDisplay","Number","timeFormat","showSeconds","showTimezone","StaleReasonsLabel","include","gridTemplateColumns","fontSize","HeaderCell","VirtualizedAssetHeader","nameLabel"],"sourceRoot":""}